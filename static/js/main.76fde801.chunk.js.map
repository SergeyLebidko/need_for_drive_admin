{"version":3,"sources":["content/images/logo.svg","components/common/BrandStamp/BrandStamp.js","content/images/order_list_icon.svg","content/images/car_list_icon.svg","content/images/menu_item_icon.svg","constants/urls.js","constants/settings.js","utils/common_utils.js","components/common/TextField/TextField.js","content/images/show.svg","content/images/hide.svg","components/common/PasswordField/PasswordField.js","components/common/Preloader/Preloader.js","components/common/ErrorPane/ErrorPane.js","utils/fetch_utils.js","components/pages/Login/Login.js","components/common/ControlledPasswordField/ControlledPasswordField.js","components/pages/Register/Register.js","components/admin/menu/MenuItem/MenuItem.js","store/selectors.js","components/admin/menu/MenuItems/MenuItems.js","content/images/one_line.svg","content/images/two_lines.svg","components/admin/menu/MenuButton/MenuButton.js","components/admin/menu/Menu/Menu.js","content/images/find.svg","content/images/remove.svg","components/admin/header/SearchField/SearchField.js","content/images/notification.svg","components/admin/header/Notification/Notification.js","content/images/down.svg","content/images/user.jpeg","store/actions.js","store/actionCreators.js","store/hooks.js","components/admin/header/UserPane/UserPane.js","components/admin/header/AdminHeader/AdminHeader.js","components/common/Selector/Selector.js","components/admin/content/order_list/OrderFilters/OrderFilters.js","components/common/Paginator/Paginator.js","components/common/PhotoBlock/PhotoBlock.js","components/admin/content/order_list/OrderCardExtra/OrderCardExtra.js","components/common/CheckBox/CheckBox.js","components/admin/content/order_list/OrderCardOptions/OrderCardOptions.js","components/admin/content/order_list/OrderCardPrice/OrderCardPrice.js","components/common/ListElementControl/ListElementControl.js","components/admin/content/order_list/OrderCard/OrderCard.js","components/admin/content/order_list/OrderList/OrderList.js","components/admin/content/car_list/CarFilters/CarFilters.js","components/common/LineIndicator/LineIndicator.js","components/admin/content/car_list/CarCardExtra/CarCardExtra.js","components/admin/content/car_list/CarCard/CarCard.js","components/admin/content/car_list/CarList/CarList.js","components/admin/content/point_list/PointFilters/PointFilters.js","components/admin/content/point_list/PointCard/PointCard.js","components/admin/content/point_list/PointList/PointList.js","components/common/CatalogSelector/CatalogSelector.js","components/admin/content/order/PlaceBlock/PlaceBlock.js","components/admin/content/order/CarBlock/CarBlock.js","components/admin/content/order/OptionBlock/OptionBlock.js","components/admin/content/order/DateBlock/DateBlock.js","components/common/EditorControlBlock/EditorControlBlock.js","components/common/TextValueEditor/TextValueEditor.js","components/admin/content/order/Order/Order.js","components/admin/content/car/CarInfo/CarInfo.js","components/admin/content/car/CarPhotoChooser/CarPhotoChooser.js","components/admin/content/car/CarTankViewer/CarTankViewer.js","components/admin/content/car/CarDescription/CarDescription.js","components/admin/content/car/CarColors/CarColors.js","components/admin/content/car/Car/Car.js","components/admin/content/point/Point/Point.js","components/common/NoMatch/NoMatch.js","components/common/RouterCap/RouterCap.js","content/images/cancel_icon.svg","components/common/PopupMessage/PopupMessage.js","components/admin/content/AdminContent/AdminContent.js","components/admin/footer/AdminFooter/AdminFooter.js","components/pages/Admin/Admin.js","components/App.js","store/reducers.js","store/store.js","index.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","fillRule","clipRule","d","ForwardRef","LARGE_STAMP","BrandStamp","size","containerClasses","classNames","className","SvgOrderListIcon","SvgCarListIcon","SvgMenuItemIcon","DOMEN","API_BASE","AUTH_BASE","DEFAULT_REQUEST_HEADERS","process","CITY_URL","POINT_URL","CAR_URL","STATUS_URL","ORDER_URL","CAR_CATEGORY_URL","RATE_URL","LOGIN_URL","REGISTER_URL","CHECK_URL","REFRESH_URL","LOGOUT_URL","LOGIN_APP_URL","REGISTER_APP_URL","ADMIN_APP_URL","ORDER_LIST_APP_URL","CAR_LIST_APP_URL","POINT_LIST_APP_URL","ORDER_EDIT_APP_URL","CAR_CREATE_APP_URL","CAR_EDIT_APP_URL","POINT_EDIT_APP_URL","POINT_CREATE_APP_URL","LIMIT","STATUS_LIST_CATALOG","CAR_LIST_CATALOG","CITY_LIST_CATALOG","POINT_LIST_CATALOG","CAR_CATEGORY_CATALOG","RATE_LIST_CATALOG","NO_FILTER_VALUE","PER_DAY","PER_WEEK","PER_MONTH","BEGIN_DAY","BEGIN_WEEK","BEGIN_MONTH","LIMIT_FILTER_NAME","PAGE_FILTER_NAME","DATE_FROM_FILTER_NAME","CAR_FILTER_NAME","CITY_FILTER_NAME","STATUS_FILTER_NAME","CATEGORY_FILTER_NAME","PRICE_MIN_FILTER_NAME","PRICE_MAX_FILTER_NAME","TANK_FILTER_NAME","MENU_ITEMS","iconComponent","href","LETTER_CHARS","DIGIT_CHARS","ALL_CHARS","SALT","ACCESS_TOKEN","REFRESH_TOKEN","SUCCESS","FAIL","format","value","slice","extractDateParts","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","getRandomString","allowDigits","CHAR_SET","result","index","push","Math","floor","random","join","getFormattedDate","timestamp","Date","year","mon","day","hour","min","capitalize","str","toUpperCase","toLowerCase","getFormattedPrice","price","Intl","NumberFormat","isWholePositiveOrZero","_value","isNaN","undefined","prepareItemForSelector","item","nameExtractor","name","prepareItemsForSelector","items","map","TextField","label","handleChangeValue","errorText","placeholder","inputClasses","inputId","htmlFor","type","onChange","defaultProps","SvgShow","enableBackground","xmlSpace","xmlnsXlink","_path2","SvgHide","PasswordField","useState","hasShow","setHasShow","handleShowSwitchClick","onClick","Preloader","fullscreen","dots","preloaderClasses","ErrorPane","error","handleBackButtonClick","history","useHistory","paneClasses","httpStatus","goBack","prepareDateRange","dateFilterValue","msInHour","msInMin","msInDay","now","_now","sec","ms","getDay","msInSec","getAuthorizationHeaders","accessToken","cookie","get","addHeadersToFetchOptions","headers","options","_headers","executeFetch","url","a","_options","fetch","response","Promise","reject","httpText","message","ok","text","status","json","executeFetchWithRefresh","func","attempts","refresh","loginValue","passwordValue","salt","basic","btoa","body","JSON","stringify","username","password","method","access_token","refreshToken","refresh_token","set","localStorage","setItem","check","remove","getItem","_accessToken","_refreshToken","removeItem","fetchOrderList","page","car","city","params","URLSearchParams","dateFrom","dateTo","fetchStatusList","fetchCarList","categoryId","priceMin","priceMax","tank","hasPage","fetchPointList","cityId","fetchCityList","fetchCarCategoryList","fetchRateList","fetchOrder","orderId","removeOrderInBase","updateOrderInBase","order","fetchCar","carId","removeCarInBase","saveCarInBase","FormData","thumbnail","File","append","forEach","field","colors","color","fetchPoint","pointId","removePointInBase","savePointInBase","point","Login","hasLoginProcess","setHasLoginProcess","loginProcessError","setLoginProcessError","setLoginValue","setPasswordValue","loginErrorText","setLoginErrorText","passwordErrorText","setPasswordErrorText","event","nextValue","to","preventDefault","hasError","login","then","catch","err","ControlledPasswordField","Register","setLogin","loginError","setLoginError","setPassword","passwordError","setPasswordError","confirm","setConfirm","confirmError","setConfirmError","hasShowPassword","setHasShowPassword","registerProcess","setRegisterProcess","registerProcessError","setRegisterProcessError","getConfirmError","valuePassword","valueConfirm","nextLogin","errors","includes","char","getLoginError","nextPassword","findDigit","findLetter","getPasswordError","createdPassword","emptyError","register","MenuItem","handleClick","activeClassName","getMenuItems","state","menuItems","getFrame","frame","getCatalog","catalogName","catalog","getUsername","getError","getPreloader","preloader","getPopupMessage","popupMessage","getEntity","entity","getOrderStatus","orderStatusId","getOrderCity","getOrderPoint","getOrderRate","rateId","getOrderTank","isFullTank","getOrderChair","isNeedChildChair","getOrderWheel","isRightWheel","getOrderDateFrom","getOrderDateTo","getOrderPrice","getOrderCar","getOrderColor","getCarId","getCarThumbnail","getCarName","gedCarDescription","description","getCarCategory","getPriceMin","getPriceMax","getCarTank","getCarNumber","number","getCarColors","getPointCity","getPointName","getPointAddress","address","MenuItems","handleMenuItemClick","useSelector","MenuButton","hasOpened","menuButtonClasses","src","oneLine","twoLines","Menu","setHasOpened","menuClasses","oldVal","SvgFind","_defs","_g","_g2","SvgRemove","SearchField","inputValue","setInputValue","hasRemoveIcon","setHasRemoveIcon","inputField","useRef","current","focus","SvgNotification","Notification","_polygon","count","setCount","generateCount","useEffect","SvgDown","style","points","SET_MENU_ITEMS","SET_FRAME","SET_CATALOG","SET_USERNAME","SET_ERROR","SET_PRELOADER","SET_ENTITY","SET_ENTITY_FIELD","SET_POPUP_MESSAGE","getCorrectPage","_page","loadCatalogs","dispatch","getState","catalogs","loaderSelector","data","setCatalog","setFrame","act","catalogData","setError","setPreloader","loadOrderList","orderList","loadCarList","carList","loadPointList","pointList","setEntity","setEntityField","setPopupMessage","loadOrder","initNewCar","loadCar","initNewPoint","loadPoint","useGlobalPreloader","useDispatch","useListLoader","listAppUrl","filterNames","loaderFunc","done","setDone","location","useLocation","showGlobalPreloader","hideGlobalPreloader","pathname","startsWith","search","filterValues","filterName","finally","useEntityLoader","doneSetter","errorSetter","errorResetFunc","loadEntityFunc","initEntityFunc","useRouteMatch","showPreloader","hidePreloader","actionCreator","UserPane","hasPopup","setHasPopup","popupTimer","handler","useGlobalError","showGlobalError","hideGlobalError","clearTimeout","handleElementClick","popupClasses","onMouseOver","onMouseLeave","setTimeout","userPicture","alt","logout","AdminHeader","Selector","handleSelect","selectClasses","disabled","OrderFilters","selectedDate","setSelectedDate","selectedCar","setSelectedCar","selectedCity","setSelectedCity","selectedStatus","setSelectedStatus","cityList","statusList","searchParams","defaultDate","defaultCar","defaultCity","defaultStatus","dateSelectorItems","carSelectorItems","citySelectorItems","statusSelectorItems","delete","Paginator","baseLink","lastPageNumber","hasFirstDot","hasSecondDot","linksContent","pageNumber","PhotoBlock","photoPath","path","setPath","onError","OrderCardExtra","find","rateTypeId","unit","getRate","CheckBox","caption","defaultValue","handleChange","setValue","labelClasses","OrderCardOptions","OrderCardPrice","ListElementControl","handleButtonClick","OrderCard","OrderList","CarFilters","selectedCategory","setSelectedCategory","setPriceMin","priceMinError","setPriceMinError","setPriceMax","priceMaxError","setPriceMaxError","selectedTank","setSelectedTank","categoryList","defaultCategory","defaultPriceMin","defaultPriceMax","defaultTank","tankSelectorItems","categorySelectorItems","level","priceError","minError","maxError","LineIndicator","right","CarCardExtra","CarCard","CarList","PointFilters","console","log","PointCard","PointList","CatalogSelector","entityField","fieldGetter","resetErrorText","entityDataExtractor","itemsListCreator","enableEmpty","itemsForSelector","setItemsForSelector","selectedValue","nextList","unshift","nextFieldValue","defaulpProps","removeEmptyAfterSelection","PlaceBlock","cityErrorText","pointErrorText","resetCityErrorText","resetPointErrorText","extractDataForEntity","pointNoCity","filter","pointWithCity","addressComparator","b","sort","CarBlock","colorListForSelector","setColorListForSelector","selectedColor","hasFirstEffect","prepareColorForSelector","carIdForEffect","colorsSet","Set","add","Array","from","OptionBlock","chair","wheel","setDefaultLocale","ru","DateBlock","commonDatePickerProps","showTimeInput","dateFormat","locale","timeCaption","isClearable","selected","EditorControlBlock","handleSave","handleCancel","handleRemove","TextValueEditor","getValue","enabledSpaceOnly","setNullIfEmpty","trim","Order","statusErrorText","setStatusErrorText","setCityErrorText","setPointErrorText","priceErrorText","setPriceErrorText","resetStatusErrorText","resetPriceErrorText","rate","updatedOrder","updateOrder","CarInfo","category","CarPhotoChooser","setPhotoPath","fileSelectorRef","fileInputId","fileSelectorClasses","accept","file","files","fileReader","FileReader","readAsDataURL","onload","currentTarget","onerror","CarTankViewer","hasTankValue","CarDescription","areaId","CarColors","entityColors","colorsForSelect","setColorsForSelect","colorsFlag","setColorsFlag","colorInputValue","setColorInputValue","_","oldFlags","flag","flagIndex","handleCheckBoxChange","Car","thumbnailError","setThumbnailError","nameError","setNameError","categoryError","setCategoryError","tankError","setTankError","colorsError","setColorsError","resetThumbnailError","resetNameError","resetCategoryError","resetPriceMinError","resetPriceMaxError","resetTankError","resetColorsError","hasTankError","savedCar","saveCar","createdId","Point","cityError","setCityError","addressError","setAddressError","pointNameError","setPointNameError","resetCityError","resetAddressError","resetPointNameError","savedPoint","savePoint","NoMatch","RouterCap","mainCaption","buttonCaption","SvgCancelIcon","PopupMessage","hasVisible","setHasVisible","timer","hidePopupMessage","popupMessageClasses","onTransitionEnd","AdminContent","exact","component","AdminFooter","Admin","fetchUsername","setUsername","goLogin","App","action","combinedReducer","combineReducers","reducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.76fde801.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 45,\n    height: 45,\n    viewBox: \"0 0 45 45\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Logo Icon\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 22.25C0 9.96178 9.96198 0 22.2504 0C34.538 0 44.5 9.96178 44.5 22.25C44.5 25.0644 43.9774 27.7567 43.0241 30.2353C41.3767 27.6868 38.5104 26 35.25 26C30.1414 26 26 30.1414 26 35.25C26 38.5104 27.6868 41.3768 30.2354 43.0241C27.7569 43.9775 25.0647 44.5 22.2504 44.5C9.96198 44.5 0 34.5382 0 22.25ZM30.2354 43.0241C31.6801 43.9579 33.4018 44.5 35.25 44.5C40.3586 44.5 44.5 40.3586 44.5 35.25C44.5 33.4017 43.9579 31.6801 43.0241 30.2353C40.7682 36.1002 36.1001 40.7682 30.2354 43.0241Z\",\n    fill: \"#0EC261\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.02d5ddcf.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {ReactComponent as Logo} from '../../../content/images/logo.svg';\nimport './BrandStamp.scss';\n\nexport const LARGE_STAMP = 'ls';\nexport const SMALL_STAMP = 'ss';\n\nfunction BrandStamp({size}) {\n    const containerClasses = classNames(\n        'brand_stamp',\n        {\n            'large_stamp': size === LARGE_STAMP,\n            'small_stamp': size === SMALL_STAMP\n        }\n    );\n    return (\n        <div className={containerClasses}>\n            <Logo/>\n            <h1>Need for drive</h1>\n        </div>\n    )\n}\n\nBrandStamp.propTypes = {\n    size: PropTypes.string\n}\n\nexport default BrandStamp;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgOrderListIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 9,\n    height: 10,\n    viewBox: \"0 0 9 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M5.5 0H1.5C0.95 0 0.505 0.45 0.505 1L0.5 9C0.5 9.55 0.945 10 1.495 10H7.5C8.05 10 8.5 9.55 8.5 9V3L5.5 0ZM6.5 7H5V8.5H4V7H2.5V6H4V4.5H5V6H6.5V7ZM5 0.75V3.5H7.75L5 0.75Z\",\n    fill: \"#CACEDB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOrderListIcon);\nexport default __webpack_public_path__ + \"static/media/order_list_icon.5727ef62.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCarListIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 10,\n    viewBox: \"0 0 13 10\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0.5 0.5V1.85714H5.83333V0.5H0.5ZM5.83333 4.57142H0.5V3.21428H5.83333V4.57142ZM0.5 7.28572H5.83333V5.92857H0.5V7.28572ZM0.5 10H5.83333V8.64285H0.5V10ZM12.5 0.5H7.16663V10H12.5V0.5Z\",\n    fill: \"#CACEDB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCarListIcon);\nexport default __webpack_public_path__ + \"static/media/car_list_icon.b308c23f.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMenuItemIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 13,\n    height: 11,\n    viewBox: \"0 0 13 11\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M4.17647 5.11538H0.5V0.5H4.17647V5.11538ZM4.17647 10.5H0.5V5.88461H4.17647V10.5ZM4.91174 10.5H8.58821V5.88461H4.91174V10.5ZM13 10.5H9.32349V5.88461H13V10.5ZM4.91174 5.11538H8.58821V0.5H4.91174V5.11538ZM9.32349 5.11538V0.5H13V5.11538H9.32349Z\",\n    fill: \"#CACEDB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenuItemIcon);\nexport default __webpack_public_path__ + \"static/media/menu_item_icon.c6b78da0.svg\";\nexport { ForwardRef as ReactComponent };","export const DOMEN = 'https://api-factory.simbirsoft1.com';\nexport const API_BASE = `${DOMEN}/api/db`;\nexport const AUTH_BASE = `${DOMEN}/api/auth`;\n\nexport const DEFAULT_REQUEST_HEADERS = {\n    'X-Api-Factory-Application-Id': process.env.REACT_APP_X_API_FACTORY_APPLICATION_ID\n};\n\n// Адреса конечных точек api\nexport const CITY_URL = `${API_BASE}/city`;\nexport const POINT_URL = `${API_BASE}/point`;\nexport const CAR_URL = `${API_BASE}/car`;\nexport const STATUS_URL = `${API_BASE}/orderStatus`;\nexport const ORDER_URL = `${API_BASE}/order`;\nexport const CAR_CATEGORY_URL = `${API_BASE}/category`;\nexport const RATE_URL = `${API_BASE}/rate`;\n\nexport const LOGIN_URL = `${AUTH_BASE}/login`;\nexport const REGISTER_URL = `${AUTH_BASE}/register`;\nexport const CHECK_URL = `${AUTH_BASE}/check`;\nexport const REFRESH_URL = `${AUTH_BASE}/refresh`;\nexport const LOGOUT_URL = `${AUTH_BASE}/logout`;\n\n// Адреса страниц приложения\nexport const LOGIN_APP_URL = 'login'\nexport const REGISTER_APP_URL = 'register';\nexport const ADMIN_APP_URL = 'admin'\nexport const ORDER_LIST_APP_URL = 'orders';\nexport const CAR_LIST_APP_URL = 'cars';\nexport const POINT_LIST_APP_URL = 'points';\nexport const ORDER_EDIT_APP_URL = 'order_edit';\nexport const CAR_CREATE_APP_URL = 'car_create';\nexport const CAR_EDIT_APP_URL = 'car_edit';\nexport const POINT_EDIT_APP_URL = 'point_edit';\nexport const POINT_CREATE_APP_URL = 'point_create';","import React from 'react';\nimport {ReactComponent as OrderListIcon} from '../content/images/order_list_icon.svg';\nimport {ReactComponent as CarListIcon} from '../content/images/car_list_icon.svg';\nimport {ReactComponent as MenuItemIcon} from '../content/images/menu_item_icon.svg';\nimport {\n    ORDER_LIST_APP_URL,\n    CAR_LIST_APP_URL,\n    POINT_LIST_APP_URL,\n    CAR_CREATE_APP_URL,\n    POINT_CREATE_APP_URL,\n} from './urls';\n\n// Размер страницы данных\nexport const LIMIT = 10;\n\n// Имена каталогов со справочной информацией\nexport const STATUS_LIST_CATALOG = 'status_list_catalog';\nexport const CAR_LIST_CATALOG = 'car_list_catalog';\nexport const CITY_LIST_CATALOG = 'city_list_catalog';\nexport const POINT_LIST_CATALOG = 'point_list_catalog';\nexport const CAR_CATEGORY_CATALOG = 'car_category_catalog';\nexport const RATE_LIST_CATALOG = 'rate_catalog';\n\n// Пресеты (значения) для фильтров по времени\nexport const NO_FILTER_VALUE = 'no_filter_value';\nexport const PER_DAY = 'per_day';\nexport const PER_WEEK = 'per_week';\nexport const PER_MONTH = 'per_month';\nexport const BEGIN_DAY = 'begin_day';\nexport const BEGIN_WEEK = 'begin_week';\nexport const BEGIN_MONTH = 'begin_month';\n\n// Названия фильтров\nexport const LIMIT_FILTER_NAME = 'limit';\nexport const PAGE_FILTER_NAME = 'page';\nexport const DATE_FROM_FILTER_NAME = 'dateFrom';\nexport const CAR_FILTER_NAME = 'carId';\nexport const CITY_FILTER_NAME = 'cityId';\nexport const STATUS_FILTER_NAME = 'orderStatusId';\nexport const CATEGORY_FILTER_NAME = 'categoryId';\nexport const PRICE_MIN_FILTER_NAME = 'priceMin';\nexport const PRICE_MAX_FILTER_NAME = 'priceMax';\nexport const TANK_FILTER_NAME = 'tank';\n\n// Список пунктов главного меню\nexport const MENU_ITEMS = [\n    {\n        title: 'Заказы',\n        iconComponent: <OrderListIcon/>,\n        href: ORDER_LIST_APP_URL\n    },\n    {\n        title: 'Автомобили',\n        iconComponent: <CarListIcon/>,\n        href: CAR_LIST_APP_URL\n    },\n    {\n        title: 'Пункты выдачи',\n        iconComponent: <MenuItemIcon/>,\n        href: POINT_LIST_APP_URL\n    },\n    {\n        title: 'Добавить автомобиль',\n        iconComponent: <MenuItemIcon/>,\n        href: CAR_CREATE_APP_URL\n    },\n    {\n        title: 'Добавить пункт выдачи',\n        iconComponent: <MenuItemIcon/>,\n        href: POINT_CREATE_APP_URL\n    }\n];\n\n// Наборы символов\nexport const LETTER_CHARS = 'QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm';\nexport const DIGIT_CHARS = '0123456789';\nexport const ALL_CHARS = LETTER_CHARS + DIGIT_CHARS + '_';\n\n// Рекомендуемый размер пароля\nexport const PASSWORD_SIZE = 10;\n\n// Параметры \"соли\"\nexport const SALT = 'salt';\nexport const SALT_SIZE = 7;\n\n// Наименования cookie для токенов\nexport const ACCESS_TOKEN = 'access_token';\nexport const REFRESH_TOKEN = 'refresh_token';\n\n// Метки для сообщений\nexport const SUCCESS = 'success';\nexport const FAIL = 'fail';","import {LETTER_CHARS, DIGIT_CHARS, NO_FILTER_VALUE} from '../constants/settings';\n\nfunction format(value) {\n    return ('0' + value).slice(-2);\n}\n\nexport function extractDateParts(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    ];\n}\n\nexport function getRandomString(size = 16, allowDigits = false) {\n    const CHAR_SET = LETTER_CHARS + (allowDigits ? DIGIT_CHARS : '');\n    const result = [];\n    for (let index = 0; index < size; index++) {\n        result.push(CHAR_SET[Math.floor(Math.random() * CHAR_SET.length)]);\n    }\n    return result.join('');\n}\n\nexport function getFormattedDate(timestamp) {\n    const [year, mon, day, hour, min] = extractDateParts(new Date(timestamp));\n    return `${format(day)}.${format(mon + 1)}.${year} ${format(hour)}:${format(min)}`;\n}\n\nexport function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1).toLowerCase();\n}\n\nexport function getFormattedPrice(price) {\n    return new Intl.NumberFormat('ru-RU').format(price);\n}\n\nexport function isWholePositiveOrZero(value) {\n    const _value = +value;\n    return !(isNaN(_value) || _value < 0 || Math.floor(_value) !== _value || value === null || value === undefined || value === '');\n}\n\nexport function prepareItemForSelector(item, nameExtractor) {\n    if (!item) return {value: NO_FILTER_VALUE, name: 'Не выбран'};\n    if (nameExtractor) return {value: item.id, name: nameExtractor(item)};\n    return {value: item.id, name: item.name};\n}\n\nexport function prepareItemsForSelector(items, nameExtractor) {\n    return items.map(item => prepareItemForSelector(item, nameExtractor));\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {getRandomString} from '../../../utils/common_utils';\nimport './TextField.scss';\n\nfunction TextField({label, value, handleChangeValue, errorText, placeholder}) {\n    const inputClasses = classNames('text_input', {'text_input_error': !!errorText});\n\n    const inputId = getRandomString();\n\n    return (\n        <div className=\"text_field\">\n            {label && <label htmlFor={inputId}>{label}</label>}\n            <input\n                type=\"text\"\n                className={inputClasses}\n                value={value}\n                onChange={handleChangeValue}\n                id={inputId}\n                placeholder={placeholder ? placeholder : ''}\n            />\n            {errorText && <span className=\"text_input_error_text\">{errorText}</span>}\n        </div>\n    )\n}\n\nTextField.defaultProps = {\n    label: null,\n    placeholder: null\n}\n\nTextField.propTypes = {\n    label: PropTypes.string,\n    value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number\n    ]),\n    handleChangeValue: PropTypes.func,\n    errorText: PropTypes.string,\n    placeholder: PropTypes.string\n}\n\nexport default TextField;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 32 32\",\n    id: \"Glyph\",\n    viewBox: \"0 0 32 32\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M29.946,15.675C27.954,9.888,22.35,6,16,6S4.046,9.888,2.054,15.675c-0.072,0.21-0.072,0.44,0,0.65  C4.046,22.112,9.65,26,16,26s11.954-3.888,13.946-9.675C30.018,16.115,30.018,15.885,29.946,15.675z M16,22c-3.309,0-6-2.691-6-6  s2.691-6,6-6s6,2.691,6,6S19.309,22,16,22z\",\n    id: \"XMLID_320_\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShow);\nexport default __webpack_public_path__ + \"static/media/show.ddbfcd50.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHide(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 32 32\",\n    id: \"Glyph\",\n    viewBox: \"0 0 32 32\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.722,24.964c0.096,0.096,0.057,0.264-0.073,0.306c-7.7,2.466-16.032-1.503-18.594-8.942  c-0.072-0.21-0.072-0.444,0-0.655c0.743-2.157,1.99-4.047,3.588-5.573c0.061-0.058,0.158-0.056,0.217,0.003l4.302,4.302  c0.03,0.03,0.041,0.072,0.031,0.113c-1.116,4.345,2.948,8.395,7.276,7.294c0.049-0.013,0.095-0.004,0.131,0.032  C17.958,22.201,20.045,24.287,20.722,24.964z\",\n    id: \"XMLID_323_\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.68,23.266c2.406-1.692,4.281-4.079,5.266-6.941c0.072-0.21,0.072-0.44,0-0.65  C27.954,9.888,22.35,6,16,6c-2.479,0-4.841,0.597-6.921,1.665L3.707,2.293c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414  l26,26c0.391,0.391,1.023,0.391,1.414,0c0.391-0.391,0.391-1.023,0-1.414L24.68,23.266z M16,10c3.309,0,6,2.691,6,6  c0,1.294-0.416,2.49-1.115,3.471l-8.356-8.356C13.51,10.416,14.706,10,16,10z\",\n    id: \"XMLID_325_\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHide);\nexport default __webpack_public_path__ + \"static/media/hide.8b77170b.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {ReactComponent as Show} from '../../../content/images/show.svg';\nimport {ReactComponent as Hide} from '../../../content/images/hide.svg';\nimport {getRandomString} from '../../../utils/common_utils';\nimport './PasswordField.scss';\n\nfunction PasswordField({label, value, handleChangeValue, errorText}) {\n    const [hasShow, setHasShow] = useState(false);\n\n    const inputClasses = classNames('text_input', {'text_input_error': !!errorText});\n\n    const handleShowSwitchClick = () => setHasShow(!hasShow);\n\n    const inputId = getRandomString();\n\n    return (\n        <div className=\"password_field\">\n            <label htmlFor={inputId}>{label}</label>\n            <input\n                type={hasShow ? 'text' : 'password'}\n                className={inputClasses}\n                value={value}\n                onChange={handleChangeValue}\n                id={inputId}\n            />\n            {hasShow ? <Hide onClick={handleShowSwitchClick}/> : <Show onClick={handleShowSwitchClick}/>}\n            {errorText && <span className=\"password_field__error_text\">{errorText}</span>}\n        </div>\n    );\n}\n\nPasswordField.propTypes = {\n    label: PropTypes.string,\n    value: PropTypes.string,\n    handleChangeValue: PropTypes.func,\n    errorText: PropTypes.string\n}\n\nexport default PasswordField;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {ReactComponent as Logo} from '../../../content/images/logo.svg';\nimport './Preloader.scss';\n\nconst DOTS_COUNT = 12;\n\nfunction Preloader({fullscreen}) {\n    const dots = [];\n    for (let index = 0; index < DOTS_COUNT; index++) {\n        dots.push(<div key={index} className={`preloader__dot-${index + 1}`}/>);\n    }\n\n    const preloaderClasses = classNames('preloader', {'preloader_fullscreen': fullscreen});\n\n    return (\n        <div className={preloaderClasses}>\n            <Logo/>\n            <div className=\"preloader__dots_block\">\n                {dots}\n            </div>\n        </div>\n    )\n}\n\nPreloader.defaultProps = {\n    fullscreen: false\n}\n\nPreloader.propTypes = {\n    fullscreen: PropTypes.bool\n}\n\nexport default Preloader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {useHistory} from 'react-router-dom';\nimport './ErrorPane.scss';\n\nfunction ErrorPane({error, handleBackButtonClick, fullscreen}) {\n    const history = useHistory();\n\n    const handleClick = () => {\n        if (!handleBackButtonClick) {\n            history.goBack();\n            return;\n        }\n        handleBackButtonClick();\n    };\n\n    const paneClasses = classNames('error_pane', {'error_pane_fullscreen': fullscreen});\n\n    return (\n        <div className={paneClasses}>\n            {!!error.httpStatus && <h1 className=\"error_pane__error_code\">{error.httpStatus}</h1>}\n            <h2 className=\"error_pane__big_caption\">Что-то пошло не так</h2>\n            <h3 className=\"error_pane__small_caption\">Попробуйте перезагрузить страницу</h3>\n            <button className=\"error_pane__back_button button button_blue\" onClick={handleClick}>\n                Назад\n            </button>\n        </div>\n    );\n}\n\nErrorPane.defaultProps = {\n    handleBackButtonClick: null,\n    fullscreen: false\n}\n\nErrorPane.propTypes = {\n    error: PropTypes.shape({\n        httpStatus: PropTypes.number,\n        httpText: PropTypes.string\n    }),\n    handleBackButtonClick: PropTypes.func,\n    fullscreen: PropTypes.bool\n}\n\nexport default ErrorPane;","import {\n    LIMIT,\n    LIMIT_FILTER_NAME,\n    DATE_FROM_FILTER_NAME,\n    PAGE_FILTER_NAME,\n    CAR_FILTER_NAME,\n    CITY_FILTER_NAME,\n    STATUS_FILTER_NAME,\n    PER_DAY,\n    PER_WEEK,\n    PER_MONTH,\n    BEGIN_DAY,\n    BEGIN_WEEK,\n    BEGIN_MONTH,\n    SALT,\n    SALT_SIZE,\n    ACCESS_TOKEN,\n    REFRESH_TOKEN,\n    CATEGORY_FILTER_NAME,\n    PRICE_MIN_FILTER_NAME,\n    PRICE_MAX_FILTER_NAME,\n    TANK_FILTER_NAME\n} from '../constants/settings';\nimport {\n    DEFAULT_REQUEST_HEADERS,\n    ORDER_URL,\n    STATUS_URL,\n    CAR_URL,\n    CITY_URL,\n    LOGIN_URL,\n    CHECK_URL,\n    REFRESH_URL,\n    LOGOUT_URL,\n    REGISTER_URL,\n    CAR_CATEGORY_URL,\n    POINT_URL,\n    RATE_URL\n} from '../constants/urls';\nimport {extractDateParts, getRandomString} from './common_utils';\nimport cookie from 'cookie_js';\n\nfunction prepareDateRange(dateFilterValue) {\n    const msInSec = 1000;\n    const msInMin = msInSec * 60;\n    const msInHour = msInMin * 60;\n    const msInDay = msInHour * 24;\n    const msInWeek = msInDay * 7;\n    const msInMonth = msInDay * 30;\n\n    const now = Date.now();\n    switch (dateFilterValue) {\n        case PER_DAY:\n            return [now - msInDay, now];\n        case PER_WEEK:\n            return [now - msInWeek, now];\n        case PER_MONTH:\n            return [now - msInMonth, now];\n        case BEGIN_DAY: {\n            const [year, mon, day] = extractDateParts(new Date(now));\n            return [+(new Date(year, mon, day)), null];\n        }\n        case BEGIN_WEEK: {\n            const _now = new Date(now);\n            const [, , , hour, min, sec, ms] = extractDateParts(_now);\n\n            // Учитываем, что в js неделя начинается с воскресения, а в РФ - с понедельника :)\n            const numberDay = _now.getDay() ? _now.getDay() - 1 : 6;\n            return [now - ((numberDay * msInDay) + (hour * msInHour) + (min * msInMin) + (sec * msInSec) + ms), null];\n        }\n        case BEGIN_MONTH: {\n            const [year, mon] = extractDateParts(new Date(now));\n            return [+(new Date(year, mon)), null];\n        }\n        default:\n            return [null, null];\n    }\n}\n\nfunction getAuthorizationHeaders() {\n    const accessToken = cookie.get(ACCESS_TOKEN);\n    return {'Authorization': `Bearer ${accessToken}`};\n}\n\nfunction addHeadersToFetchOptions(headers, options) {\n    const _headers = options.headers ? {...options.headers, ...headers} : headers;\n    return {...options, headers: _headers}\n}\n\nasync function executeFetch(url, options = {}) {\n    const _options = addHeadersToFetchOptions(DEFAULT_REQUEST_HEADERS, options);\n\n    let response;\n    try {\n        response = await fetch(url, _options);\n    } catch (err) {\n        return Promise.reject({httpStatus: 0, httpText: err.message})\n    }\n\n    if (!response.ok) {\n        const text = await response.text();\n        return Promise.reject({httpStatus: response.status, httpText: text});\n    }\n\n    if (response.status === 204) return;\n    return await response.json();\n}\n\nasync function executeFetchWithRefresh(func, url, options = {}) {\n    let attempts = 0;\n    let response;\n    do {\n        if (attempts === 1) await refresh();\n        try {\n            const _options = addHeadersToFetchOptions(getAuthorizationHeaders(), options);\n            response = await func(url, _options);\n        } catch (err) {\n            if (err.httpStatus !== 401) throw err;\n        }\n        attempts++;\n    } while (!response && attempts < 2);\n    return response;\n}\n\nexport async function login(loginValue, passwordValue) {\n    const salt = getRandomString(SALT_SIZE, true);\n    const basic = btoa(`${salt}:${process.env.REACT_APP_SECRET}`);\n\n    const options = {\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Basic ${basic}`\n        },\n        body: JSON.stringify({username: loginValue, password: passwordValue}),\n        method: 'POST'\n    }\n\n    const {access_token: accessToken, refresh_token: refreshToken} = await executeFetch(LOGIN_URL, options);\n    cookie.set(ACCESS_TOKEN, accessToken);\n    cookie.set(REFRESH_TOKEN, refreshToken);\n    localStorage.setItem(SALT, salt);\n}\n\nexport async function register(loginValue, passwordValue) {\n    const options = {\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({username: loginValue, password: passwordValue}),\n        method: 'POST'\n    }\n\n    await executeFetch(REGISTER_URL, options);\n}\n\nexport async function check() {\n    const accessToken = cookie.get(ACCESS_TOKEN);\n    if (!accessToken) return null;\n\n    const options = {headers: {'Authorization': `Bearer ${accessToken}`}};\n\n    try {\n        const response = await executeFetch(CHECK_URL, options);\n        return response.username;\n    } catch (err) {\n        if (err.httpStatus === 0) throw err;\n        cookie.remove(ACCESS_TOKEN);\n    }\n}\n\nexport async function refresh() {\n    const salt = localStorage.getItem(SALT);\n    const refreshToken = cookie.get(REFRESH_TOKEN);\n    if (!salt || !refreshToken) return;\n\n    const basic = btoa(`${salt}:${process.env.REACT_APP_SECRET}`);\n    const options = {\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Basic ${basic}`\n        },\n        body: JSON.stringify({'refresh_token': refreshToken}),\n        method: 'POST'\n    }\n\n    try {\n        const {access_token: _accessToken, refresh_token: _refreshToken} = await executeFetch(REFRESH_URL, options);\n        cookie.set(ACCESS_TOKEN, _accessToken);\n        cookie.set(REFRESH_TOKEN, _refreshToken);\n    } catch (err) {\n        if (err.httpStatus === 0) throw err;\n        cookie.remove([ACCESS_TOKEN, REFRESH_TOKEN]);\n        localStorage.removeItem(SALT);\n    }\n}\n\nexport async function logout() {\n    const options = {method: 'POST', headers: getAuthorizationHeaders()};\n\n    try {\n        await executeFetch(LOGOUT_URL, options);\n    } catch (err) {\n        if (err.httpStatus === 0) throw err;\n    }\n    cookie.remove(ACCESS_TOKEN);\n    cookie.remove(REFRESH_TOKEN);\n    localStorage.removeItem(SALT);\n}\n\nexport async function fetchOrderList(page, date, car, city, status) {\n    const params = new URLSearchParams();\n\n    params.set(LIMIT_FILTER_NAME, '' + LIMIT);\n    params.set(PAGE_FILTER_NAME, '' + page);\n\n    if (car) params.set(CAR_FILTER_NAME, '' + car);\n    if (city) params.set(CITY_FILTER_NAME, '' + city);\n    if (status) params.set(STATUS_FILTER_NAME, '' + status);\n    if (date) {\n        const [dateFrom, dateTo] = prepareDateRange(date);\n        if (dateFrom) params.set(`${DATE_FROM_FILTER_NAME}[$gt]`, dateFrom);\n        if (dateTo) params.set(`${DATE_FROM_FILTER_NAME}[$lt]`, dateTo);\n    }\n\n    return await executeFetchWithRefresh(executeFetch, `${ORDER_URL}/?${params}`);\n}\n\nexport async function fetchStatusList() {\n    return await executeFetch(STATUS_URL);\n}\n\nexport async function fetchCarList(page, categoryId, priceMin, priceMax, tank) {\n    let url = CAR_URL;\n\n    // Учитываем, что номер страницы может быть и равен нулю, поэтому явно проверяем его на значения null и undefined\n    const hasPage = page !== null && page !== undefined;\n    if (hasPage || categoryId || priceMin || priceMax || tank) {\n        const params = new URLSearchParams();\n        params.set(LIMIT_FILTER_NAME, '' + LIMIT);\n\n        if (hasPage) params.set(PAGE_FILTER_NAME, '' + page);\n        if (categoryId) params.set(CATEGORY_FILTER_NAME, '' + categoryId);\n        if (priceMin) params.set(`${PRICE_MIN_FILTER_NAME}[$gte]`, '' + priceMin);\n        if (priceMax) params.set(`${PRICE_MAX_FILTER_NAME}[$lte]`, '' + priceMax);\n        if (tank) params.set(`${TANK_FILTER_NAME}[$gte]`, '' + tank);\n        url = `${url}/?${params}`;\n    }\n\n    return await executeFetch(url);\n}\n\nexport async function fetchPointList(page, cityId) {\n    let url = POINT_URL;\n    if (page || page === 0 || cityId) {\n        const params = new URLSearchParams();\n        params.set(LIMIT_FILTER_NAME, '' + LIMIT);\n        if (page || page === 0) params.set(PAGE_FILTER_NAME, page);\n        if (cityId) params.set(CITY_FILTER_NAME, cityId)\n        url += `?${params}`;\n    }\n    return await executeFetch(url);\n}\n\nexport async function fetchCityList() {\n    return await executeFetch(CITY_URL);\n}\n\nexport async function fetchCarCategoryList() {\n    return await executeFetch(CAR_CATEGORY_URL);\n}\n\nexport async function fetchRateList() {\n    return await executeFetch(RATE_URL);\n}\n\nexport async function fetchUsername() {\n    return await executeFetchWithRefresh(check);\n}\n\nexport async function fetchOrder(orderId) {\n    return await executeFetchWithRefresh(executeFetch, `${ORDER_URL}/${orderId}`);\n}\n\nexport async function removeOrderInBase(orderId) {\n    return await executeFetchWithRefresh(executeFetch, `${ORDER_URL}/${orderId}`, {method: 'DELETE'});\n}\n\nexport async function updateOrderInBase(order) {\n    return await executeFetchWithRefresh(\n        executeFetch,\n        `${ORDER_URL}/${order.id}`,\n        {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(order)\n        }\n    );\n}\n\nexport async function fetchCar(carId) {\n    return await executeFetch(`${CAR_URL}/${carId}`);\n}\n\nexport async function removeCarInBase(carId) {\n    return await executeFetchWithRefresh(executeFetch, `${CAR_URL}/${carId}`, {method: 'DELETE'});\n}\n\nexport async function saveCarInBase(car) {\n    const url = car.id ? `${CAR_URL}/${car.id}` : CAR_URL;\n\n    const body = new FormData();\n\n    // Обрабатываем сохранение обязательных полей\n    // Условные операторы используем для более легкого обнаружения ошибок сохранения\n    if (car.thumbnail instanceof File) body.append('thumbnail', car.thumbnail);\n    if (car.name) body.append('name', car.name);\n    if (car.categoryId) body.append('categoryId', car.categoryId.id);\n    if (car.priceMin) body.append('priceMin', car.priceMin);\n    if (car.priceMax) body.append('priceMax', car.priceMax);\n\n    // Обрабатываем сохранение необязательных полей\n    // При этом препятствуем появлению на бэкенде значений \"null\" или \"undefined\"\n    ['description', 'number', 'tank'].forEach(field => {\n        if (car[field] === null || car[field] === undefined) {\n            body.append(field, '');\n        } else {\n            body.append(field, car[field]);\n        }\n    });\n\n    // Обрабатываем сохранение массива цветов\n    for (const color of car.colors) body.append('colors', color);\n\n    const method = car.id ? 'PUT' : 'POST';\n    const options = {\n        method,\n        body\n    }\n\n    return await executeFetchWithRefresh(executeFetch, url, options);\n}\n\nexport async function fetchPoint(pointId) {\n    return await executeFetch(`${POINT_URL}/${pointId}`);\n}\n\nexport async function removePointInBase(pointId) {\n    return await executeFetchWithRefresh(executeFetch, `${POINT_URL}/${pointId}`, {method: 'DELETE'});\n}\n\nexport async function savePointInBase(point) {\n    const url = point.id ? `${POINT_URL}/${point.id}` : POINT_URL;\n    const method = point.id ? 'PUT' : 'POST';\n\n    return await executeFetchWithRefresh(\n        executeFetch,\n        url,\n        {\n            method,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(point)\n        }\n    );\n}","import React, {useState} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport BrandStamp, {LARGE_STAMP} from '../../common/BrandStamp/BrandStamp';\nimport TextField from '../../common/TextField/TextField';\nimport PasswordField from '../../common/PasswordField/PasswordField';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ErrorPane from '../../common/ErrorPane/ErrorPane';\nimport {ADMIN_APP_URL, REGISTER_APP_URL} from '../../../constants/urls';\nimport {login} from '../../../utils/fetch_utils';\nimport './Login.scss';\n\nfunction Login() {\n    const [hasLoginProcess, setHasLoginProcess] = useState(false);\n    const [loginProcessError, setLoginProcessError] = useState(null);\n\n    const [loginValue, setLoginValue] = useState('');\n    const [passwordValue, setPasswordValue] = useState('');\n    const [loginErrorText, setLoginErrorText] = useState(null);\n    const [passwordErrorText, setPasswordErrorText] = useState(null);\n\n    const history = useHistory();\n\n    const handleChangeLogin = event => {\n        const nextValue = event.target.value;\n        setLoginValue(nextValue);\n        if (nextValue !== '' && !!loginErrorText) setLoginErrorText('');\n\n    };\n\n    const handleChangePassword = event => {\n        const nextValue = event.target.value;\n        setPasswordValue(nextValue);\n        if (nextValue !== '' && !!passwordErrorText) setPasswordErrorText('');\n    };\n\n    const handleLoginButtonClick = event => {\n        event.preventDefault();\n\n        const hasError = loginValue === '' || passwordValue === '';\n        if (loginValue === '') setLoginErrorText('Обязательное поле');\n        if (passwordValue === '') setPasswordErrorText('Обязательно поле');\n        if (hasError) return;\n\n        setHasLoginProcess(true);\n        login(loginValue, passwordValue)\n            .then(() => {\n                history.push(`/${ADMIN_APP_URL}`);\n            })\n            .catch(err => {\n                setHasLoginProcess(false);\n                if (err.httpStatus === 401) {\n                    setLoginErrorText('Возможно, не верный логин');\n                    setPasswordErrorText('Возможно, не верный пароль');\n                    return;\n                }\n                setLoginProcessError(err);\n            });\n    };\n\n    const clearFormData = () => {\n        setHasLoginProcess(false);\n        setLoginProcessError(null);\n        setLoginValue('');\n        setPasswordValue('');\n        setLoginErrorText(null);\n        setPasswordErrorText(null);\n    }\n\n    if (hasLoginProcess) return <Preloader/>;\n\n    if (loginProcessError) return <ErrorPane error={loginProcessError} handleBackButtonClick={clearFormData}/>\n\n    return (\n        <div className=\"login\">\n            <BrandStamp size={LARGE_STAMP}/>\n            <form className=\"form\">\n                <h1 className=\"login__form_caption\">Вход</h1>\n                <TextField\n                    label=\"Логин\"\n                    value={loginValue}\n                    handleChangeValue={handleChangeLogin}\n                    errorText={loginErrorText}\n                />\n                <PasswordField\n                    label=\"Пароль\"\n                    value={passwordValue}\n                    handleChangeValue={handleChangePassword}\n                    errorText={passwordErrorText}\n                />\n                <div className=\"login__control_block\">\n                    <Link to={`/${REGISTER_APP_URL}`}>Запросить доступ</Link>\n                    <button type=\"submit\" className=\"button button_blue\" onClick={handleLoginButtonClick}>\n                        Войти\n                    </button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport {getRandomString} from '../../../utils/common_utils';\nimport './ControlledPasswordField.scss';\n\nfunction ControlledPasswordField({label, value, handleChangeValue, errorText, hasShow}) {\n    const inputClasses = classNames('text_input', {'text_input_error': !!errorText});\n\n    const inputId = getRandomString();\n\n    return (\n        <div className=\"controlled_password_field\">\n            <label htmlFor={inputId}>{label}</label>\n            <input\n                type={hasShow ? 'text' : 'password'}\n                className={inputClasses}\n                value={value}\n                onChange={handleChangeValue}\n                id={inputId}\n            />\n            {errorText && <span className=\"controlled_password_field__error_text\">{errorText}</span>}\n        </div>\n    );\n}\n\nControlledPasswordField.propTypes = {\n    label: PropTypes.string,\n    value: PropTypes.string,\n    handleChangeValue: PropTypes.func,\n    errorText: PropTypes.string,\n    hasShow: PropTypes.bool\n}\n\nexport default ControlledPasswordField;","import React, {useState} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ErrorPane from '../../common/ErrorPane/ErrorPane';\nimport BrandStamp, {LARGE_STAMP} from '../../common/BrandStamp/BrandStamp';\nimport TextField from '../../common/TextField/TextField';\nimport ControlledPasswordField from '../../common/ControlledPasswordField/ControlledPasswordField';\nimport {Link} from 'react-router-dom';\nimport {getRandomString} from '../../../utils/common_utils';\nimport {register} from '../../../utils/fetch_utils';\nimport {LOGIN_APP_URL} from '../../../constants/urls';\nimport {ALL_CHARS, LETTER_CHARS, DIGIT_CHARS, PASSWORD_SIZE} from '../../../constants/settings';\nimport './Register.scss';\n\nfunction Register() {\n    const [login, setLogin] = useState('');\n    const [loginError, setLoginError] = useState(null);\n\n    const [password, setPassword] = useState('');\n    const [passwordError, setPasswordError] = useState(null);\n    const [confirm, setConfirm] = useState('');\n    const [confirmError, setConfirmError] = useState(null);\n\n    const [hasShowPassword, setHasShowPassword] = useState(false);\n\n    const [registerProcess, setRegisterProcess] = useState(false);\n    const [registerProcessError, setRegisterProcessError] = useState(null);\n\n    const history = useHistory();\n\n    const getLoginError = nextLogin => {\n        const errors = [];\n\n        if (nextLogin.length > 0) {\n            if (DIGIT_CHARS.includes(nextLogin[0])) errors.push('Логин не может начинаться с цифры.');\n            for (const char of nextLogin) {\n                if (!ALL_CHARS.includes(char)) {\n                    errors.push('Логин может содержать только английские буквы, цифры и знак подчеркивания');\n                    break;\n                }\n            }\n        }\n\n        return errors.join(' ');\n    }\n\n    const getPasswordError = nextPassword => {\n        const errors = [];\n\n        if (nextPassword.length > 0) {\n            if (nextPassword.length < PASSWORD_SIZE) errors.push(`Длина пароля менее ${PASSWORD_SIZE} символов.`);\n            let findDigit = false;\n            let findLetter = false;\n            for (const char of nextPassword) {\n                if (LETTER_CHARS.includes(char)) findLetter = true;\n                if (DIGIT_CHARS.includes(char)) findDigit = true;\n                if (findLetter && findDigit) break;\n            }\n            if (!findLetter) errors.push('Пароль не содержит английские буквы.');\n            if (!findDigit) errors.push('Пароль не содержит цифры.');\n        }\n\n        return errors.join(' ');\n    }\n\n    const getConfirmError = (valuePassword, valueConfirm) => {\n        if (valueConfirm !== valuePassword) return 'Пароль и подтверждение не совпадают';\n        return null;\n    }\n\n    const handleChangeLogin = event => {\n        const nextValue = event.target.value;\n        setLoginError(getLoginError(nextValue));\n        setLogin(nextValue);\n    }\n\n    const handleChangePassword = event => {\n        const nextValue = event.target.value;\n        setPasswordError(getPasswordError(nextValue));\n        setPassword(nextValue);\n        setConfirmError(getConfirmError(nextValue, confirm));\n    }\n\n    const handleChangeConfirm = event => {\n        const nextValue = event.target.value;\n        setConfirmError(getConfirmError(password, nextValue));\n        setConfirm(nextValue);\n    }\n\n    const handleCreatePassword = () => {\n        const createdPassword = getRandomString(PASSWORD_SIZE, true);\n        setPassword(createdPassword);\n        setPasswordError(null);\n        setConfirm(createdPassword);\n        setConfirmError(null);\n        setHasShowPassword(true);\n    };\n\n    const handleShowPasswordClick = () => setHasShowPassword(!hasShowPassword);\n\n    const handleRegisterButtonClick = event => {\n        event.preventDefault();\n\n        const emptyError = login.length === 0 || password.length === 0 || confirm.length === 0;\n        if (login.length === 0) setLoginError('Обязательное поле');\n        if (password.length === 0) setPasswordError('Обязательное поле');\n        if (confirm.length === 0) setConfirmError('Обязательное поле');\n        if (emptyError) return;\n\n        if (loginError || passwordError || confirmError) return;\n\n        // Отправляем данные для регистрации\n        setRegisterProcess(true);\n        register(login, password)\n            .then(() => {\n                history.push(`/${LOGIN_APP_URL}`);\n            })\n            .catch(err => {\n                setRegisterProcessError(err);\n                setRegisterProcess(false);\n            });\n    };\n\n    const clearFormData = () => {\n        setLogin('');\n        setLoginError(null);\n        setPassword('');\n        setPasswordError(null);\n        setHasShowPassword(false);\n        setRegisterProcess(false);\n        setRegisterProcessError(null);\n    }\n\n    if (registerProcess) return <Preloader/>;\n\n    if (registerProcessError) return <ErrorPane error={registerProcessError} handleBackButtonClick={clearFormData}/>;\n\n    return (\n        <div className=\"register\">\n            <BrandStamp size={LARGE_STAMP}/>\n            <form className=\"form\">\n                <h1 className=\"register__form_caption\">Регистрация</h1>\n                <TextField\n                    label=\"Логин\"\n                    value={login}\n                    handleChangeValue={handleChangeLogin}\n                    errorText={loginError}\n                />\n                <ControlledPasswordField\n                    label=\"Пароль\"\n                    value={password}\n                    handleChangeValue={handleChangePassword}\n                    errorText={passwordError}\n                    hasShow={hasShowPassword}\n                />\n                <div className=\"register__password_control_block\">\n                    <span className=\"register__create_password\" onClick={handleCreatePassword}>\n                        Создать пароль\n                    </span>\n                    {!!password &&\n                    <span className=\"register__show_password_control\" onClick={handleShowPasswordClick}>\n                        {hasShowPassword ? 'Скрыть' : 'Показать'}\n                    </span>\n                    }\n                </div>\n                <ControlledPasswordField\n                    label=\"Подтверждение пароля\"\n                    value={confirm}\n                    handleChangeValue={handleChangeConfirm}\n                    errorText={confirmError}\n                    hasShow={hasShowPassword}\n                />\n                <div className=\"register__control_block\">\n                    <Link to={`/${LOGIN_APP_URL}`}>Выполнить вход</Link>\n                    <button type=\"submit\" className=\"button button_blue\" onClick={handleRegisterButtonClick}>\n                        Зарегистрироваться\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default Register;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {NavLink} from 'react-router-dom';\nimport './MenuItem.scss';\n\nfunction MenuItem({item, handleClick}) {\n    const {title, iconComponent, href} = item;\n    return (\n        <li className=\"menu_item\">\n            <NavLink to={`/admin/${href}`} activeClassName=\"active_link\" onClick={handleClick}>\n                {iconComponent}{title}\n            </NavLink>\n        </li>\n    )\n}\n\nMenuItem.propTypes = {\n    item: PropTypes.object,\n    handleClick: PropTypes.func\n}\n\nexport default MenuItem;","export const getMenuItems = state => state.menuItems;\n\nexport const getFrame = state => state.frame;\n\nexport const getCatalog = catalogName => state => state.catalog[catalogName];\n\nexport const getUsername = state => state.username;\n\nexport const getError = state => state.error;\n\nexport const getPreloader = state => state.preloader;\n\nexport const getPopupMessage = state => state.popupMessage;\n\nexport const getEntity = state => state.entity;\n\nexport const getOrderStatus = state => state.entity.orderStatusId;\n\nexport const getOrderCity = state => state.entity.cityId;\n\nexport const getOrderPoint = state => state.entity.pointId;\n\nexport const getOrderRate = state => state.entity.rateId;\n\nexport const getOrderTank = state => state.entity.isFullTank;\n\nexport const getOrderChair = state => state.entity.isNeedChildChair;\n\nexport const getOrderWheel = state => state.entity.isRightWheel;\n\nexport const getOrderDateFrom = state => state.entity.dateFrom;\n\nexport const getOrderDateTo = state => state.entity.dateTo;\n\nexport const getOrderPrice = state => state.entity.price;\n\nexport const getOrderCar = state => state.entity.carId;\n\nexport const getOrderColor = state => state.entity.color;\n\nexport const getCarId = state => state.entity.id;\n\nexport const getCarThumbnail = state => state.entity.thumbnail;\n\nexport const getCarName = state => state.entity.name;\n\nexport const gedCarDescription = state => state.entity.description;\n\nexport const getCarCategory = state => state.entity.categoryId;\n\nexport const getPriceMin = state => state.entity.priceMin;\n\nexport const getPriceMax = state => state.entity.priceMax;\n\nexport const getCarTank = state => state.entity.tank;\n\nexport const getCarNumber = state => state.entity.number;\n\nexport const getCarColors = state => state.entity.colors;\n\nexport const getPointCity = state => state.entity.cityId;\n\nexport const getPointName = state => state.entity.name;\n\nexport const getPointAddress = state => state.entity.address;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '../MenuItem/MenuItem';\nimport {useSelector} from 'react-redux';\nimport {getMenuItems} from '../../../../store/selectors';\nimport './MenuItems.scss';\n\nfunction MenuItems({handleMenuItemClick}) {\n    const items = useSelector(getMenuItems);\n    return (\n        <ul className=\"menu_items\">\n            {items.map(item => <MenuItem key={item.href} item={item} handleClick={handleMenuItemClick}/>)}\n        </ul>\n    )\n}\n\nMenuItems.propTypes = {\n    handleMenuItemClick: PropTypes.func\n}\n\nexport default MenuItems;","export default __webpack_public_path__ + \"static/media/one_line.6fd386a4.svg\";","export default __webpack_public_path__ + \"static/media/two_lines.018201f3.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport oneLine from '../../../../content/images/one_line.svg';\nimport twoLines from '../../../../content/images/two_lines.svg';\nimport './MenuButton.scss';\n\nfunction MenuButton({hasOpened, handleClick}) {\n    const menuButtonClasses = classNames('menu_button', {'menu_button_opened': hasOpened});\n\n    return (\n        <div className={menuButtonClasses} onClick={handleClick}>\n            <img src={oneLine}/>\n            <img src={oneLine}/>\n            <img src={twoLines}/>\n        </div>\n    );\n}\n\nMenuButton.propTypes = {\n    hasOpened: PropTypes.bool,\n    handleClick: PropTypes.func\n}\n\nexport default MenuButton;","import React, {useState} from 'react';\nimport classNames from 'classnames';\nimport MenuItems from '../MenuItems/MenuItems';\nimport BrandStamp, {SMALL_STAMP} from '../../../common/BrandStamp/BrandStamp';\nimport MenuButton from '../MenuButton/MenuButton';\nimport './Menu.scss';\n\nfunction Menu() {\n    const [hasOpened, setHasOpened] = useState(false);\n\n    const menuClasses = classNames('menu', {'opened_menu': hasOpened});\n\n    const handleMenuButtonClick = () => setHasOpened(oldVal => !oldVal);\n    const handleMenuItemClick = () => setHasOpened(false);\n\n    return (\n        <nav className={menuClasses}>\n            <header className=\"menu__header\">\n                <MenuButton hasOpened={hasOpened} handleClick={handleMenuButtonClick}/>\n                <BrandStamp size={SMALL_STAMP}/>\n            </header>\n            <MenuItems handleMenuItemClick={handleMenuItemClick}/>\n        </nav>\n    )\n}\n\nexport default Menu;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgFind(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 15 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M9.87336 8.80503H10.5057L14.5 12.8073L13.3073 14L9.30503 10.0057V9.37336L9.08891 9.14923C8.17639 9.93368 6.99171 10.4059 5.70297 10.4059C2.82933 10.4059 0.5 8.07662 0.5 5.20297C0.5 2.32933 2.82933 0 5.70297 0C8.57662 0 10.9059 2.32933 10.9059 5.20297C10.9059 6.49171 10.4337 7.67639 9.64923 8.58891L9.87336 8.80503ZM2.19702 5.30302C2.19702 7.29837 3.80773 8.90908 5.80308 8.90908C7.79844 8.90908 9.40914 7.29837 9.40914 5.30302C9.40914 3.30767 7.79844 1.69696 5.80308 1.69696C3.80773 1.69696 2.19702 3.30767 2.19702 5.30302Z\",\n    fill: \"#CACEDB\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFind);\nexport default __webpack_public_path__ + \"static/media/find.4ed27fda.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g, _g2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRemove(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:none;}\"))), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    \"data-name\": \"Layer 2\",\n    id: \"Layer_2\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4,29a1,1,0,0,1-.71-.29,1,1,0,0,1,0-1.42l24-24a1,1,0,1,1,1.42,1.42l-24,24A1,1,0,0,1,4,29Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M28,29a1,1,0,0,1-.71-.29l-24-24A1,1,0,0,1,4.71,3.29l24,24a1,1,0,0,1,0,1.42A1,1,0,0,1,28,29Z\"\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"frame\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    className: \"cls-1\",\n    height: 32,\n    width: 32\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRemove);\nexport default __webpack_public_path__ + \"static/media/remove.c893b922.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useRef, useState} from 'react';\nimport {ReactComponent as FindIcon} from '../../../../content/images/find.svg';\nimport {ReactComponent as RemoveIcon} from '../../../../content/images/remove.svg';\nimport './SearchField.scss'\n\nfunction SearchField() {\n    const [inputValue, setInputValue] = useState('');\n    const [hasRemoveIcon, setHasRemoveIcon] = useState(false);\n    const inputField = useRef(null);\n\n    const handleIconClick = () => inputField.current.focus();\n\n    const handleChangeInput = event => {\n        const nextValue = event.target.value;\n        if (nextValue.length > 0) {\n            setHasRemoveIcon(true);\n        } else {\n            setHasRemoveIcon(false);\n        }\n        setInputValue(nextValue);\n    }\n\n    const handleRemoveClick = () => {\n        setInputValue('');\n        setHasRemoveIcon(false);\n    }\n\n    return (\n        <div className=\"search_field\">\n            <FindIcon onClick={handleIconClick}/>\n            <input\n                className=\"search_field__search_value\"\n                placeholder=\"Поиск...\"\n                ref={inputField}\n                value={inputValue}\n                onChange={handleChangeInput}\n            />\n            {hasRemoveIcon && <RemoveIcon onClick={handleRemoveClick}/>}\n        </div>\n    );\n}\n\nexport default SearchField;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNotification(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 21,\n    viewBox: \"0 0 18 21\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M15.375 9.04949V14.3727L17.5 16.502V17.5667H0.5V16.502L2.625 14.3727V9.04949C2.625 5.77038 4.35687 3.04489 7.40625 2.32093V1.59697C7.40625 0.713313 8.11812 0 9 0C9.88188 0 10.5938 0.713313 10.5938 1.59697V2.32093C13.6325 3.04489 15.375 5.78103 15.375 9.04949ZM11.2667 18.7C11.2667 19.9467 10.2467 20.9667 9 20.9667C7.742 20.9667 6.73334 19.9467 6.73334 18.7H11.2667Z\",\n    fill: \"#818EA3\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNotification);\nexport default __webpack_public_path__ + \"static/media/notification.4a73f89d.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState, useEffect} from 'react';\nimport {ReactComponent as NotificationIcon} from '../../../../content/images/notification.svg';\nimport './Notification.scss';\n\nfunction Notification() {\n    const [count, setCount] = useState(0);\n    const generateCount = () => Math.floor(Math.random() * 50) + 1;\n\n    useEffect(() => setCount(generateCount()), []);\n    const handleClick = () => setCount(generateCount());\n\n    return (\n        <div className=\"notification\">\n            <NotificationIcon onClick={handleClick}/>\n            {count && <div className=\"notification__count\" onClick={handleClick}>{count}</div>}\n        </div>\n    )\n}\n\nexport default Notification;","var _polygon;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 46 46\",\n    style: {\n      enableBackground: \"new 0 0 46 46\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _polygon || (_polygon = /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"46,3.004 0,3 23.002,43\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDown);\nexport default __webpack_public_path__ + \"static/media/down.1fbc3735.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/user.dcb075f7.jpeg\";","export const SET_MENU_ITEMS = 'set_menu_items';\nexport const SET_FRAME = 'set_frame';\nexport const SET_CATALOG = 'set_catalog';\nexport const SET_USERNAME = 'set_username';\nexport const SET_ERROR = 'set_error';\nexport const SET_PRELOADER = 'set_preloader';\nexport const SET_ENTITY = 'set_entity';\nexport const SET_ENTITY_FIELD = 'set_entity_field';\nexport const SET_POPUP_MESSAGE = 'set_popup_message';","import * as act from './actions';\nimport {\n    fetchOrderList,\n    fetchStatusList,\n    fetchCarList,\n    fetchCityList,\n    fetchCarCategoryList,\n    fetchPointList,\n    fetchOrder,\n    removeOrderInBase,\n    updateOrderInBase,\n    fetchRateList,\n    fetchCar,\n    saveCarInBase,\n    removeCarInBase,\n    fetchPoint,\n    removePointInBase,\n    savePointInBase\n} from '../utils/fetch_utils';\nimport {\n    STATUS_LIST_CATALOG,\n    CAR_LIST_CATALOG,\n    CITY_LIST_CATALOG,\n    CAR_CATEGORY_CATALOG,\n    POINT_LIST_CATALOG,\n    RATE_LIST_CATALOG\n} from '../constants/settings';\n\n// Вспомогательная функция возвращающая корректный номер страницы\nfunction getCorrectPage(page) {\n    let _page = (page === null || page === undefined) ? 0 : +page;\n    if (isNaN(_page)) _page = 0;\n    return _page\n}\n\n// Вспомогательная функция для загрузки каталогов\nasync function loadCatalogs(dispatch, getState, catalogs) {\n    const loaderSelector = {\n        [STATUS_LIST_CATALOG]: fetchStatusList,\n        [CAR_LIST_CATALOG]: fetchCarList,\n        [POINT_LIST_CATALOG]: fetchPointList,\n        [CITY_LIST_CATALOG]: fetchCityList,\n        [CAR_CATEGORY_CATALOG]: fetchCarCategoryList,\n        [RATE_LIST_CATALOG]: fetchRateList\n    }\n    for (const catalog of catalogs) {\n        if (!getState().catalog[catalog]) {\n            const {data} = await loaderSelector[catalog]();\n            dispatch(setCatalog(catalog, data));\n        }\n    }\n}\n\n// Создатель действия для сохранения данных пунктов меню\nexport function setMenuItems(menuItems) {\n    return {\n        type: act.SET_MENU_ITEMS,\n        menuItems\n    }\n}\n\n// Создатель действия для установки кадра данных\nexport function setFrame(frame) {\n    return {\n        type: act.SET_FRAME,\n        frame\n    }\n}\n\n// Создатель действия для установки каталога\nexport function setCatalog(catalogName, catalogData) {\n    return {\n        type: act.SET_CATALOG,\n        catalogName,\n        catalogData\n    }\n}\n\n// Создатель действия для сохранения полученного от бэка имени пользователя\nexport function setUsername(username) {\n    return {\n        type: act.SET_USERNAME,\n        username\n    }\n}\n\n// Создатель действия для сохранения сведений об ошибке\nexport function setError(error) {\n    return {\n        type: act.SET_ERROR,\n        error\n    }\n}\n\n// Создатель действия для управления флагом глобального прелоадера\nexport function setPreloader(preloader) {\n    return {\n        type: act.SET_PRELOADER,\n        preloader\n    }\n}\n\n// Создатель действия для загрузки списка заказов\nexport function loadOrderList(page, date, car, city, status) {\n    return async (dispatch, getState) => {\n        // Загружаем список заказов\n        const _page = getCorrectPage(page);\n        const orderList = await fetchOrderList(_page, date, car, city, status);\n        dispatch(setFrame({count: orderList.count, data: orderList.data, page: _page}));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(dispatch, getState, [STATUS_LIST_CATALOG, CAR_LIST_CATALOG, CITY_LIST_CATALOG]);\n    }\n}\n\n// Создатель действия для загрузки списка автомобилей\nexport function loadCarList(page, categoryId, priceMin, priceMax, tank) {\n    return async (dispatch, getState) => {\n        // Загружаем список автомобилей\n        const _page = getCorrectPage(page);\n        const carList = await fetchCarList(_page, categoryId, priceMin, priceMax, tank);\n        dispatch(setFrame({count: carList.count, data: carList.data, page: _page}));\n\n        // Загружаем справочник с категориями авто\n        await loadCatalogs(dispatch, getState, [CAR_CATEGORY_CATALOG]);\n    }\n}\n\n// Создатель действия для загрузки списка пунктов выдачи\nexport function loadPointList(page, cityId) {\n    return async (dispatch, getState) => {\n        const _page = getCorrectPage(page);\n        const pointList = await fetchPointList(_page, cityId);\n        dispatch(setFrame({count: pointList.count, data: pointList.data, page: _page}));\n\n        // Загружаем список городов, если он еще не был загружен\n        await loadCatalogs(dispatch, getState, [CITY_LIST_CATALOG]);\n    }\n}\n\n// Создатель действия для инициализации сущности переданным объектом\nexport function setEntity(entity) {\n    return {\n        type: act.SET_ENTITY,\n        entity\n    }\n}\n\n// Создатель действия для установки значения поля сущности\nexport function setEntityField(field, value) {\n    return {\n        type: act.SET_ENTITY_FIELD,\n        field,\n        value\n    }\n}\n\n// Создатель действия для установки всплывающего сообщения\nexport function setPopupMessage(status, text) {\n    return {\n        type: act.SET_POPUP_MESSAGE,\n        message: {status, text}\n    }\n}\n\n// Создатель действия для загрузки заказа\nexport function loadOrder(orderId) {\n    return async (dispatch, getState) => {\n        const order = await fetchOrder(orderId);\n        dispatch(setEntity(order.data));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(\n            dispatch,\n            getState,\n            [STATUS_LIST_CATALOG, CITY_LIST_CATALOG, POINT_LIST_CATALOG, RATE_LIST_CATALOG, CAR_LIST_CATALOG]\n        );\n    }\n}\n\n// Создатель действия для удаления заказа\nexport function removeOrder(orderId) {\n    return async dispatch => {\n        await removeOrderInBase(orderId);\n        dispatch(setEntity({}));\n    }\n}\n\n// Создатель действия для сохранения заказа\nexport function updateOrder(order) {\n    return async dispatch => {\n        const updatedOrder = await updateOrderInBase(order);\n        dispatch(setEntity(updatedOrder.data));\n    }\n}\n\n// Создатель действия для инициализации в хранилище нового автомобиля\nexport function initNewCar() {\n    return async (dispatch, getState) => {\n        dispatch(setEntity({\n            name: '',\n            description: '',\n            priceMin: 0,\n            priceMax: 0,\n            number: '',\n            tank: 0,\n            colors: []\n        }));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(dispatch, getState, [CAR_CATEGORY_CATALOG]);\n    }\n}\n\n// Создатель действия для загрузки автомобиля\nexport function loadCar(carId) {\n    return async (dispatch, getState) => {\n        const car = await fetchCar(carId);\n        dispatch(setEntity(car.data));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(dispatch, getState, [CAR_CATEGORY_CATALOG]);\n    }\n}\n\n// Создатель действия для удаления автомобиля\nexport function removeCar(carId) {\n    return async dispatch => {\n        await removeCarInBase(carId);\n        dispatch(setEntity({}));\n    }\n}\n\n// Создатель действия для сохранения автомобиля\nexport function saveCar(car) {\n    return async dispatch => {\n        const savedCar = await saveCarInBase(car);\n        dispatch(setEntity(savedCar.data));\n\n        return savedCar.data.id;\n    }\n}\n\n// Создатель действия для инициализации в хранилище нового пункта выдачи\nexport function initNewPoint() {\n    return async (dispatch, getState) => {\n        dispatch(setEntity({\n            name: '',\n            address: ''\n        }));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(dispatch, getState, [CITY_LIST_CATALOG]);\n    }\n}\n\n// Создатель действия для загрузки пункта выдачи\nexport function loadPoint(pointId) {\n    return async (dispatch, getState) => {\n        const point = await fetchPoint(pointId);\n        dispatch(setEntity(point.data));\n\n        // Загружаем необходимые каталоги\n        await loadCatalogs(dispatch, getState, [CITY_LIST_CATALOG]);\n    }\n}\n\n// Создатель действия для удаления пункта выдачи\nexport function removePoint(pointId) {\n    return async dispatch => {\n        await removePointInBase(pointId);\n        dispatch(setEntity({}));\n    }\n}\n\n// Создатель действия для сохранения пункта выдачи\nexport function savePoint(point) {\n    return async dispatch => {\n        const savedPoint = await savePointInBase(point);\n        dispatch(setEntity(savedPoint.data));\n\n        return savedPoint.data.id;\n    }\n}","import {useDispatch, useSelector} from 'react-redux';\nimport {setError, setPreloader} from './actionCreators';\nimport {useEffect, useState} from 'react';\nimport {useLocation, useRouteMatch} from 'react-router-dom';\nimport {getFrame} from './selectors';\nimport {ADMIN_APP_URL} from '../constants/urls';\nimport {PAGE_FILTER_NAME} from '../constants/settings';\n\nexport function useGlobalPreloader() {\n    const dispatch = useDispatch();\n    const showPreloader = () => dispatch(setPreloader(true));\n    const hidePreloader = () => dispatch(setPreloader(false));\n    return [showPreloader, hidePreloader];\n}\n\nexport function useGlobalError() {\n    const dispatch = useDispatch();\n    const showError = (description, handler) => dispatch(setError({description, handler}));\n    const hideError = () => dispatch(setError(false));\n    return [showError, hideError];\n}\n\nexport function useListLoader(listAppUrl, filterNames, loaderFunc) {\n    const [done, setDone] = useState(false);\n    const [error, setError] = useState(null);\n\n    const location = useLocation();\n    const dispatch = useDispatch();\n\n    const [showGlobalPreloader, hideGlobalPreloader] = useGlobalPreloader();\n\n    const frame = useSelector(getFrame);\n    let items;\n    if (frame) items = frame.data;\n\n    useEffect(() => {\n        // Предотвращаем выполнение ненужных действий, если компонент размонтирован\n        if (!location.pathname.startsWith(`/${ADMIN_APP_URL}/${listAppUrl}`)) return;\n\n        const params = new URLSearchParams(location.search);\n        const filterValues = [];\n        const page = params.get(PAGE_FILTER_NAME);\n        for (const filterName of filterNames) filterValues.push(params.get(filterName));\n\n        showGlobalPreloader();\n        setError(null);\n        setDone(false);\n        dispatch(loaderFunc(...[page, ...filterValues]))\n            .catch(err => setError(err))\n            .finally(() => {\n                hideGlobalPreloader();\n                setDone(true);\n            });\n\n    }, [location, dispatch]);\n\n    return [done, error, items];\n}\n\nexport function useEntityLoader(doneSetter, errorSetter, errorResetFunc, loadEntityFunc, initEntityFunc) {\n    const dispatch = useDispatch();\n    const location = useLocation();\n    const {params: {id}} = useRouteMatch();\n\n    const [showPreloader, hidePreloader] = useGlobalPreloader();\n\n    useEffect(() => {\n        doneSetter(false);\n        errorSetter(null);\n        showPreloader();\n\n        let actionCreator, params;\n        if (id) {\n            actionCreator = loadEntityFunc;\n            params = [id];\n        } else if (initEntityFunc) {\n            actionCreator = initEntityFunc;\n            params = []\n        }\n\n        errorResetFunc();\n\n        dispatch(actionCreator(...params))\n            .catch(err => errorSetter(err))\n            .finally(() => {\n                doneSetter(true);\n                hidePreloader();\n            });\n    }, [location, id]);\n}","import React, {useState, useRef, useEffect} from 'react';\nimport classNames from 'classnames';\nimport {useSelector} from 'react-redux';\nimport {useHistory} from 'react-router-dom';\nimport {ReactComponent as DownArrow} from '../../../../content/images/down.svg';\nimport userPicture from '../../../../content/images/user.jpeg';\nimport {getUsername} from '../../../../store/selectors';\nimport {logout} from '../../../../utils/fetch_utils';\nimport {LOGIN_APP_URL} from '../../../../constants/urls';\nimport {useGlobalPreloader, useGlobalError} from '../../../../store/hooks';\nimport './UserPane.scss';\n\nfunction UserPane() {\n    const [hasPopup, setHasPopup] = useState(false);\n    const username = useSelector(getUsername);\n    const history = useHistory();\n    const popupTimer = useRef(null);\n\n    const [showGlobalPreloader, hideGlobalPreloader] = useGlobalPreloader();\n    const [showGlobalError, hideGlobalError] = useGlobalError();\n\n    // При размонтировании - сбрасываем таймер, чтобы предотвратить попытку обновления уже размонтированного компонента\n    useEffect(() => () => clearTimeout(popupTimer.current), []);\n\n    const handleElementClick = () => setHasPopup(oldVal => !oldVal);\n\n    const handlePaneLeave = () => {\n        if (!hasPopup) return;\n        popupTimer.current = setTimeout(() => setHasPopup(false), 200);\n    }\n\n    const handlePaneOver = () => clearTimeout(popupTimer.current);\n\n    const handleLogoutClick = () => {\n        showGlobalPreloader();\n        logout()\n            .then(() => history.push(`/${LOGIN_APP_URL}`))\n            .catch(err => showGlobalError(err, hideGlobalError))\n            .finally(hideGlobalPreloader);\n    }\n\n    const popupClasses = classNames('user_pane__popup', {'visible_popup': hasPopup});\n\n    return (\n        <div className=\"user_pane\" onMouseOver={handlePaneOver} onMouseLeave={handlePaneLeave}>\n            <img src={userPicture} className=\"user_pane__photo\" alt=\"Пользователь\" onClick={handleElementClick}/>\n            <span className=\"user_pane__name\" onClick={handleElementClick}>{username}</span>\n            <DownArrow onClick={handleElementClick}/>\n            <div className={popupClasses}>\n                <span onClick={handleLogoutClick}>Выход</span>\n            </div>\n        </div>\n    );\n}\n\nexport default UserPane;","import React from 'react';\nimport SearchField from '../SearchField/SearchField';\nimport Notification from '../Notification/Notification';\nimport UserPane from '../UserPane/UserPane';\nimport './AdminHeader.scss';\n\nfunction AdminHeader() {\n    return (\n        <header className=\"admin_header\">\n            <SearchField/>\n            <Notification/>\n            <UserPane/>\n        </header>\n    );\n}\n\nexport default AdminHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './Selector.scss';\n\nfunction Selector({items, value, handleSelect, label, errorText}) {\n    const handleChange = event => handleSelect(event.target.value);\n    const selectClasses = classNames('select_input', {'select_input_error': !!errorText});\n\n    return (\n        <div className=\"selector\">\n            {label && <label>{label}</label>}\n            <select onChange={handleChange} value={value} className={selectClasses} disabled={!items || !items.length}>\n                {items && items.map(\n                    item =>\n                        <option key={item.value} value={item.value} className=\"select_option\">\n                            {item.name}\n                        </option>\n                )}\n            </select>\n            {errorText && <span className=\"select_input_error_text\">{errorText}</span>}\n        </div>\n    );\n}\n\nSelector.propTypes = {\n    items: PropTypes.array,\n    value: PropTypes.string,\n    handleSelect: PropTypes.func,\n    label: PropTypes.string,\n    errorText: PropTypes.string\n}\n\nexport default Selector;","import React, {useState, useEffect} from 'react';\nimport {useSelector} from 'react-redux';\nimport {useLocation, useHistory} from 'react-router-dom';\nimport Selector from '../../../../common/Selector/Selector';\nimport {\n    NO_FILTER_VALUE,\n    PER_DAY,\n    PER_WEEK,\n    PER_MONTH,\n    BEGIN_DAY,\n    BEGIN_MONTH,\n    BEGIN_WEEK,\n    CAR_LIST_CATALOG,\n    CITY_LIST_CATALOG,\n    STATUS_LIST_CATALOG,\n    DATE_FROM_FILTER_NAME,\n    CAR_FILTER_NAME,\n    CITY_FILTER_NAME,\n    STATUS_FILTER_NAME,\n    PAGE_FILTER_NAME\n} from '../../../../../constants/settings';\nimport {\n    ADMIN_APP_URL,\n    ORDER_LIST_APP_URL\n} from '../../../../../constants/urls';\nimport {getCatalog} from '../../../../../store/selectors';\nimport './OrderFilters.scss';\n\nfunction OrderFilters() {\n    const location = useLocation();\n    const history = useHistory();\n\n    const [selectedDate, setSelectedDate] = useState(NO_FILTER_VALUE);\n    const [selectedCar, setSelectedCar] = useState(NO_FILTER_VALUE);\n    const [selectedCity, setSelectedCity] = useState(NO_FILTER_VALUE);\n    const [selectedStatus, setSelectedStatus] = useState(NO_FILTER_VALUE);\n\n    const carList = useSelector(getCatalog(CAR_LIST_CATALOG));\n    const cityList = useSelector(getCatalog(CITY_LIST_CATALOG));\n    const statusList = useSelector(getCatalog(STATUS_LIST_CATALOG));\n\n    // При монтировании учитываем, что при вводе в адресную строку готового URL в нём уже могут быть фильтры, которые надо учесть\n    useEffect(() => {\n        const searchParams = new URLSearchParams(location.search);\n        const defaultDate = searchParams.get(DATE_FROM_FILTER_NAME);\n        const defaultCar = searchParams.get(CAR_FILTER_NAME);\n        const defaultCity = searchParams.get(CITY_FILTER_NAME);\n        const defaultStatus = searchParams.get(STATUS_FILTER_NAME);\n\n        setSelectedDate(defaultDate ? defaultDate : NO_FILTER_VALUE);\n        setSelectedCar(defaultCar ? defaultCar : NO_FILTER_VALUE);\n        setSelectedCity(defaultCity ? defaultCity : NO_FILTER_VALUE);\n        setSelectedStatus(defaultStatus ? defaultStatus : NO_FILTER_VALUE);\n    }, []);\n\n    // Готовим данные для селектора времени\n    const dateSelectorItems = [\n        {name: 'За все время', value: NO_FILTER_VALUE},\n        {name: 'С начала текущего дня', value: BEGIN_DAY},\n        {name: 'За прошедшие сутки', value: PER_DAY},\n        {name: 'С начала текущей недели', value: BEGIN_WEEK},\n        {name: 'За прошедшую неделю (7 суток)', value: PER_WEEK},\n        {name: 'С начала текущего месяца', value: BEGIN_MONTH},\n        {name: 'За прошедший месяц (30 суток)', value: PER_MONTH},\n    ];\n\n    const handleDateSelect = value => setSelectedDate(value);\n\n    // Готовим данные для селектора моделей авто\n    const carSelectorItems = [{name: 'Все модели', value: NO_FILTER_VALUE}];\n    for (const {id, name} of carList) carSelectorItems.push({name, value: id});\n\n    const handleCarSelect = value => setSelectedCar(value);\n\n    // Готовим данные для селектора городов\n    const citySelectorItems = [{name: 'Любой город', value: NO_FILTER_VALUE}];\n    for (const {id, name} of cityList) citySelectorItems.push({name, value: id});\n\n    const handleCitySelect = value => setSelectedCity(value);\n\n    // Готовим данные для селектора по статусам заказов\n    const statusSelectorItems = [{name: 'Любой статус', value: NO_FILTER_VALUE}];\n    for (const {id, name} of statusList) statusSelectorItems.push({name, value: id});\n\n    const handleStatusSelect = value => setSelectedStatus(value);\n\n    // Обработчик применения фильтров\n    const handleApplyFilters = () => {\n        const params = new URLSearchParams(location.search);\n\n        // При изменении любого фильтра - начинаем с первой страницы\n        params.set(PAGE_FILTER_NAME, '0');\n\n        if (selectedDate === NO_FILTER_VALUE) {\n            params.delete(DATE_FROM_FILTER_NAME);\n        } else {\n            params.set(DATE_FROM_FILTER_NAME, selectedDate);\n        }\n        if (selectedCar === NO_FILTER_VALUE) {\n            params.delete(CAR_FILTER_NAME);\n        } else {\n            params.set(CAR_FILTER_NAME, selectedCar);\n        }\n        if (selectedCity === NO_FILTER_VALUE) {\n            params.delete(CITY_FILTER_NAME);\n        } else {\n            params.set(CITY_FILTER_NAME, selectedCity);\n        }\n        if (selectedStatus === NO_FILTER_VALUE) {\n            params.delete(STATUS_FILTER_NAME);\n        } else {\n            params.set(STATUS_FILTER_NAME, selectedStatus);\n        }\n\n        history.push(`/${ADMIN_APP_URL}/${ORDER_LIST_APP_URL}/?${params}`);\n    }\n\n    // Обработчик сброса фильтров\n    const handleResetFilters = () => {\n        setSelectedDate(NO_FILTER_VALUE);\n        setSelectedCar(NO_FILTER_VALUE);\n        setSelectedCity(NO_FILTER_VALUE);\n        setSelectedStatus(NO_FILTER_VALUE);\n        history.push(`/${ADMIN_APP_URL}/${ORDER_LIST_APP_URL}/?${PAGE_FILTER_NAME}=0`);\n    }\n\n    return (\n        <div className=\"order_filters\">\n            <div className=\"order_filters__selectors_block\">\n                <Selector items={dateSelectorItems} handleSelect={handleDateSelect} value={selectedDate}/>\n                <Selector items={carSelectorItems} handleSelect={handleCarSelect} value={selectedCar}/>\n                <Selector items={citySelectorItems} handleSelect={handleCitySelect} value={selectedCity}/>\n                <Selector items={statusSelectorItems} handleSelect={handleStatusSelect} value={selectedStatus}/>\n            </div>\n            <div className=\"order_filters__control_block\">\n                <button className=\"button button_red\" onClick={handleResetFilters}>Сброс</button>\n                <button className=\"button button_blue\" onClick={handleApplyFilters}>Применить</button>\n            </div>\n        </div>\n    );\n}\n\nexport default OrderFilters;","import React from 'react';\nimport {Link, useLocation, useRouteMatch} from 'react-router-dom';\nimport {useSelector} from 'react-redux';\nimport {getFrame} from '../../../store/selectors';\nimport {LIMIT, PAGE_FILTER_NAME} from '../../../constants/settings';\nimport './Paginator.scss';\n\nfunction Paginator() {\n    const {url: baseLink} = useRouteMatch();\n    const location = useLocation();\n    const {page, count} = useSelector(getFrame);\n\n    const params = new URLSearchParams(location.search);\n\n    const firstPageNumber = 0;\n    const lastPageNumber = count % LIMIT ? Math.floor(count / LIMIT) : Math.floor(count / LIMIT) - 1;\n\n    let hasFirstDot = false;\n    let hasSecondDot = false;\n\n    const linksContent = [];\n    if (page > 0) {\n        params.set(PAGE_FILTER_NAME, '' + (page - 1));\n        linksContent.push(<Link key=\"to_next_page\" to={`${baseLink}?${params}`}>&laquo;</Link>);\n    }\n\n    for (let pageNumber = 0; pageNumber <= lastPageNumber; pageNumber++) {\n        if (pageNumber === page) {\n            linksContent.push(<span key={pageNumber}>{pageNumber + 1}</span>);\n            continue;\n        }\n\n        if ((pageNumber === firstPageNumber) || (pageNumber === lastPageNumber) || (pageNumber === (page - 1)) || (pageNumber === (page + 1))) {\n            params.set(PAGE_FILTER_NAME, '' + pageNumber);\n            linksContent.push(<Link key={pageNumber} to={`${baseLink}?${params}`}>{pageNumber + 1}</Link>);\n            continue;\n        }\n\n        if (pageNumber > firstPageNumber && pageNumber < (page - 1) && !hasFirstDot) {\n            params.set(PAGE_FILTER_NAME, '' + (page - 2));\n            linksContent.push(<Link key={pageNumber} to={`${baseLink}?${params}`}>...</Link>);\n            hasFirstDot = true;\n            continue;\n        }\n\n        if (pageNumber < lastPageNumber && pageNumber > (page + 1) && !hasSecondDot) {\n            params.set(PAGE_FILTER_NAME, '' + (page + 2));\n            linksContent.push(<Link key={pageNumber} to={`${baseLink}?${params}`}>...</Link>);\n            hasSecondDot = true;\n        }\n    }\n\n    if (page < lastPageNumber) {\n        params.set(PAGE_FILTER_NAME, '' + (page + 1));\n        linksContent.push(<Link key=\"to_prev_page\" to={`${baseLink}?${params}`}>&raquo;</Link>);\n    }\n\n    return (\n        <div className=\"paginator\">\n            {linksContent}\n        </div>\n    );\n}\n\nexport default Paginator;","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {DOMEN} from '../../../constants/urls';\nimport './PhotoBlock.scss';\n\nfunction PhotoBlock({photoPath}) {\n    const [path, setPath] = useState(photoPath);\n\n    useEffect(() => setPath(photoPath), [photoPath]);\n\n    if (path) return (\n        <div className=\"photo_block\">\n            <img\n                src={path[0] === '/' ? `${DOMEN}${path}` : path}\n                className=\"photo_block__image\"\n                onError={() => setPath(null)}\n            />\n        </div>\n    );\n\n    return (\n        <div className=\"photo_block\">\n            <div className=\"photo_block__error\">Нет фото...</div>\n        </div>\n    );\n}\n\nPhotoBlock.propTypes = {\n    photoPath: PropTypes.string\n}\n\nexport default PhotoBlock;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector} from 'react-redux';\nimport {getFormattedDate, capitalize} from '../../../../../utils/common_utils';\nimport {STATUS_LIST_CATALOG} from '../../../../../constants/settings';\nimport {getCatalog} from '../../../../../store/selectors';\nimport './OrderCardExtra.scss';\n\nfunction OrderCardExtra({order}) {\n    const statusList = useSelector(getCatalog(STATUS_LIST_CATALOG));\n\n    const {id, orderStatusId, carId, cityId, pointId, dateFrom, dateTo, color, rateId} = order;\n\n    const getStatusText = () => orderStatusId ? capitalize(statusList.find(status => orderStatusId.id === status.id).name) : 'не указан';\n    const getModelName = () => carId ? carId.name : 'не указана';\n    const getCityName = () => cityId ? cityId.name : 'город не указан';\n    const getPointAddress = () => pointId ? pointId.address : 'улица не указана';\n    const getDateFromString = () => dateFrom ? getFormattedDate(dateFrom) : 'дата начала не указана';\n    const getDateToString = () => dateTo ? getFormattedDate(dateTo) : 'дата окончания не указана';\n    const getColor = () => color ? capitalize(color) : 'не указан'\n    const getRate = () => {\n        if (!rateId) return 'не указан';\n        const {rateTypeId: {unit, name}, price} = rateId;\n        return `${capitalize(name)}. ${price} руб./${unit}`\n    }\n\n    return (\n        <div className=\"order_card_extra\">\n            <div>\n                <span className=\"order_card_extra__normal_text\">Заказ №: </span>\n                <span className=\"order_card_extra__strong_text\">{id}</span>\n            </div>\n            <div>\n                <span className=\"order_card_extra__normal_text\">Статус заказа: </span>\n                <span className=\"order_card_extra__strong_text\">{getStatusText()}</span>\n            </div>\n            <div>\n                <span className=\"order_card_extra__normal_text\">Модель: </span>\n                <span className=\"order_card_extra__strong_text\">{getModelName()}</span>\n            </div>\n            <div className=\"order_card_extra__place_block\">\n                <span className=\"order_card_extra__normal_text\">Адрес: </span>\n                <span className=\"order_card_extra__strong_text\">{getCityName()}, </span>\n                <span className=\"order_card_extra__strong_text\">{getPointAddress()}</span>\n            </div>\n            <div className=\"order_card_extra__dates_block\">\n                <span className=\"order_card_extra__normal_text\">Срок аренды: </span>\n                <span className=\"order_card_extra__strong_text\">{getDateFromString()} - {getDateToString()}</span>\n            </div>\n            <div>\n                <span className=\"order_card_extra__normal_text\">Цвет: </span>\n                <span className=\"order_card_extra__strong_text\">{getColor()}</span>\n            </div>\n            <div>\n                <span className=\"order_card_extra__normal_text\">Тариф: </span>\n                <span className=\"order_card_extra__strong_text\">{getRate()}</span>\n            </div>\n        </div>\n    );\n}\n\nOrderCardExtra.propTypes = {\n    order: PropTypes.object\n}\n\nexport default OrderCardExtra;","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './CheckBox.scss';\n\nfunction CheckBox({caption, defaultValue, handleChange, disabled}) {\n    const [value, setValue] = useState(defaultValue);\n\n    const clickHandler = () => {\n        if (disabled || !handleChange) return;\n        handleChange(!value);\n        setValue(!value);\n    }\n\n    const labelClasses = classNames('check_box', {'checked_box': value, 'disabled_box': disabled});\n\n    return (\n        <label onClick={clickHandler} className={labelClasses}>\n            {caption}\n        </label>\n    );\n}\n\nCheckBox.defaultProps = {\n    disabled: false,\n    handleChange: null\n}\n\nCheckBox.propTypes = {\n    caption: PropTypes.string,\n    defaultValue: PropTypes.bool,\n    handleChange: PropTypes.func,\n    disabled: PropTypes.bool\n}\n\nexport default CheckBox;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CheckBox from '../../../../common/CheckBox/CheckBox';\nimport './OrderCardOptions.scss';\n\nfunction OrderCardOptions({order}) {\n    const {isFullTank, isNeedChildChair, isRightWheel} = order;\n\n    return (\n        <div className=\"order_card_options\">\n            <CheckBox caption=\"Полный бак\" defaultValue={!!isFullTank} disabled/>\n            <CheckBox caption=\"Детское кресло\" defaultValue={!!isNeedChildChair} disabled/>\n            <CheckBox caption=\"Правый руль\" defaultValue={!!isRightWheel} disabled/>\n        </div>\n    );\n}\n\nOrderCardOptions.propTypes = {\n    order: PropTypes.object\n}\n\nexport default OrderCardOptions;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getFormattedPrice} from '../../../../../utils/common_utils';\nimport './OrderCardPrice.scss';\n\nfunction OrderCardPrice({order}) {\n    const {price} = order;\n\n    // При отображении цены помним, что нулевая цена тоже должна отображаться\n    return (\n        <div className=\"order_card_price\">\n            {(price !== null && price !== undefined) ?\n                <h1 className=\"order_card_price__price\">{getFormattedPrice(price)} &#8381;</h1>\n                :\n                <h1 className=\"order_card_price__empty_price\">цена на указана</h1>\n            }\n        </div>\n    );\n}\n\nOrderCardPrice.propTypes = {\n    order: PropTypes.object\n}\n\nexport default OrderCardPrice;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ListElementControl.scss';\n\nfunction ListElementControl({handleButtonClick}){\n    return (\n        <div className=\"list_element_control\">\n            <button className=\"thin_button thin_button_edit\" onClick={handleButtonClick}>\n                Изменить\n            </button>\n        </div>\n    )\n}\n\nListElementControl.propTypes = {\n    handleButtonClick: PropTypes.func\n}\n\nexport default ListElementControl;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport PhotoBlock from '../../../../common/PhotoBlock/PhotoBlock';\nimport OrderCardExtra from '../OrderCardExtra/OrderCardExtra';\nimport OrderCardOptions from '../OrderCardOptions/OrderCardOptions';\nimport OrderCardPrice from '../OrderCardPrice/OrderCardPrice';\nimport ListElementControl from '../../../../common/ListElementControl/ListElementControl';\nimport {ADMIN_APP_URL, ORDER_EDIT_APP_URL} from '../../../../../constants/urls';\nimport './OrderCard.scss';\n\nfunction OrderCard({order}) {\n    const history = useHistory();\n    const toOrderEditor = () => history.push(`/${ADMIN_APP_URL}/${ORDER_EDIT_APP_URL}/${order.id}`);\n\n    return (\n        <li className=\"order_card\">\n            <div className=\"order_card__first_block\">\n                <PhotoBlock photoPath={order.carId ? order.carId.thumbnail.path : null}/>\n                <OrderCardExtra order={order}/>\n            </div>\n            <div className=\"order_card__second_block\">\n                <OrderCardOptions order={order}/>\n                <OrderCardPrice order={order}/>\n                <ListElementControl handleButtonClick={toOrderEditor}/>\n            </div>\n        </li>\n    );\n}\n\nOrderCard.propTypes = {\n    order: PropTypes.object\n}\n\nexport default OrderCard;","import React from 'react';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport OrderFilters from '../OrderFilters/OrderFilters';\nimport Paginator from '../../../../common/Paginator/Paginator';\nimport OrderCard from '../OrderCard/OrderCard';\nimport {loadOrderList} from '../../../../../store/actionCreators';\nimport {useListLoader} from '../../../../../store/hooks';\nimport {ORDER_LIST_APP_URL} from '../../../../../constants/urls';\nimport {\n    DATE_FROM_FILTER_NAME,\n    CAR_FILTER_NAME,\n    CITY_FILTER_NAME,\n    STATUS_FILTER_NAME,\n} from '../../../../../constants/settings';\nimport './OrderList.scss';\n\nfunction OrderList() {\n    const [done, error, items] = useListLoader(\n        ORDER_LIST_APP_URL,\n        [DATE_FROM_FILTER_NAME, CAR_FILTER_NAME, CITY_FILTER_NAME, STATUS_FILTER_NAME],\n        loadOrderList\n    );\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"order_list\">\n            <h1 className=\"order_list__caption\">Заказы</h1>\n            {done &&\n            <div className=\"order_list__content\">\n                <OrderFilters/>\n                {items && items.length > 0 &&\n                <>\n                    <ul>\n                        {items.map(item => <OrderCard key={item.id} order={item}/>)}\n                    </ul>\n                    <Paginator/>\n                </>\n                }\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default OrderList;","import React, {useState, useEffect} from 'react';\nimport {useSelector} from 'react-redux';\nimport {getCatalog} from '../../../../../store/selectors';\nimport {useHistory, useLocation} from 'react-router-dom';\nimport Selector from '../../../../common/Selector/Selector';\nimport TextField from '../../../../common/TextField/TextField';\nimport {\n    CAR_CATEGORY_CATALOG,\n    CATEGORY_FILTER_NAME,\n    PAGE_FILTER_NAME,\n    PRICE_MAX_FILTER_NAME,\n    PRICE_MIN_FILTER_NAME,\n    TANK_FILTER_NAME\n} from '../../../../../constants/settings';\nimport {NO_FILTER_VALUE} from '../../../../../constants/settings';\nimport {ADMIN_APP_URL, CAR_LIST_APP_URL} from '../../../../../constants/urls';\nimport {isWholePositiveOrZero} from '../../../../../utils/common_utils';\nimport './CarFilters.scss';\n\nfunction CarFilters() {\n    const history = useHistory();\n    const location = useLocation();\n\n    const [selectedCategory, setSelectedCategory] = useState(NO_FILTER_VALUE);\n    const [priceMin, setPriceMin] = useState('');\n    const [priceMinError, setPriceMinError] = useState(null);\n    const [priceMax, setPriceMax] = useState('');\n    const [priceMaxError, setPriceMaxError] = useState(null);\n    const [selectedTank, setSelectedTank] = useState(NO_FILTER_VALUE);\n\n    const categoryList = useSelector(getCatalog(CAR_CATEGORY_CATALOG));\n\n    // Определяем начальные значения фильтров по параметрам из адресной строки\n    useEffect(() => {\n        const params = new URLSearchParams(location.search);\n\n        const defaultCategory = params.get(CATEGORY_FILTER_NAME);\n        const defaultPriceMin = params.get(PRICE_MIN_FILTER_NAME);\n        const defaultPriceMax = params.get(PRICE_MAX_FILTER_NAME);\n        const defaultTank = params.get(TANK_FILTER_NAME);\n\n        setSelectedCategory(defaultCategory ? defaultCategory : NO_FILTER_VALUE);\n        setPriceMin(isWholePositiveOrZero(defaultPriceMin) ? '' + defaultPriceMin : '');\n        setPriceMax(isWholePositiveOrZero(defaultPriceMax) ? '' + defaultPriceMax : '');\n        setSelectedTank(\n            tankSelectorItems.find(item => item.value === defaultTank && item.value !== NO_FILTER_VALUE) ? defaultTank : NO_FILTER_VALUE\n        );\n\n    }, [])\n\n    // Готовим данные для селектора категорий\n    const categorySelectorItems = [{value: NO_FILTER_VALUE, name: 'Все категории'}];\n    for (const {id, name} of categoryList) categorySelectorItems.push({value: id, name});\n\n    // Готовим данные для селектора уровня топлива\n    const tankSelectorItems = [{value: NO_FILTER_VALUE, name: 'Любой уровень топлива'}];\n    for (let level = 10; level <= 100; level += 10) tankSelectorItems.push({\n        value: '' + level,\n        name: `Не менее ${level}%`\n    });\n\n    // Обработчики выбора/ввода значений\n    const handleCategorySelect = value => setSelectedCategory(value);\n    const handleChangePriceFrom = event => {\n        setPriceMin(event.target.value);\n        setPriceMinError(null);\n    };\n    const handleChangePriceTo = event => {\n        setPriceMax(event.target.value);\n        setPriceMaxError(null);\n    };\n    const handleTankSelect = value => setSelectedTank(value);\n\n    // Обработчик применения фильтров\n    const handleApplyFilters = () => {\n        const priceError = 'Допустимы только целые неотрицательные значения';\n        const minError = priceMin !== '' && !isWholePositiveOrZero(priceMin);\n        const maxError = priceMax !== '' && !isWholePositiveOrZero(priceMax);\n        if (minError) setPriceMinError(priceError);\n        if (maxError) setPriceMaxError(priceError);\n        if (minError || maxError) return;\n\n        const params = new URLSearchParams(location.search);\n\n        // При изменении любого фильтра - начинаем с первой страницы\n        params.set(PAGE_FILTER_NAME, '0');\n\n        if (selectedCategory === NO_FILTER_VALUE) {\n            params.delete(CATEGORY_FILTER_NAME);\n        } else {\n            params.set(CATEGORY_FILTER_NAME, selectedCategory);\n        }\n        if (!priceMin) {\n            params.delete(PRICE_MIN_FILTER_NAME)\n        } else {\n            params.set(PRICE_MIN_FILTER_NAME, priceMin);\n        }\n        if (!priceMax) {\n            params.delete(PRICE_MAX_FILTER_NAME);\n        } else {\n            params.set(PRICE_MAX_FILTER_NAME, priceMax);\n        }\n        if (selectedTank === NO_FILTER_VALUE) {\n            params.delete(TANK_FILTER_NAME);\n        } else {\n            params.set(TANK_FILTER_NAME, selectedTank);\n        }\n\n        history.push(`/${ADMIN_APP_URL}/${CAR_LIST_APP_URL}/?${params}`);\n    }\n\n    // Обработчик сброса фильтров\n    const handleResetFilters = () => {\n        setSelectedCategory(NO_FILTER_VALUE);\n        setPriceMin('');\n        setPriceMinError(null);\n        setPriceMax('');\n        setPriceMaxError(null);\n        setSelectedTank(NO_FILTER_VALUE);\n\n        history.push(`/${ADMIN_APP_URL}/${CAR_LIST_APP_URL}/?${PAGE_FILTER_NAME}=0`);\n    }\n\n    return (\n        <div className=\"car_filters\">\n            <div className=\"car_filters__conditions\">\n                <Selector items={categorySelectorItems} value={selectedCategory} handleSelect={handleCategorySelect}/>\n                <TextField\n                    value={priceMin}\n                    handleChangeValue={handleChangePriceFrom}\n                    errorText={priceMinError}\n                    placeholder=\"Цена от...\"\n                />\n                <TextField\n                    value={priceMax}\n                    handleChangeValue={handleChangePriceTo}\n                    errorText={priceMaxError}\n                    placeholder=\"Цена до...\"\n                />\n                <Selector items={tankSelectorItems} value={selectedTank} handleSelect={handleTankSelect}/>\n            </div>\n            <div className=\"car_filters__control\">\n                <button className=\"button button_red\" onClick={handleResetFilters}>Сбросить</button>\n                <button className=\"button button_blue\" onClick={handleApplyFilters}>Применить</button>\n            </div>\n        </div>\n    );\n}\n\nexport default CarFilters;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './LineIndicator.scss';\n\nfunction LineIndicator({value}) {\n    return (\n        <div className=\"line_indicator\">\n            <div style={{right: `${100 - value}%`}}/>\n        </div>\n    )\n}\n\nLineIndicator.propTypes = {\n    value: PropTypes.number\n}\n\nexport default LineIndicator;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {capitalize} from '../../../../../utils/common_utils';\nimport ListElementControl from '../../../../common/ListElementControl/ListElementControl';\nimport LineIndicator from '../../../../common/LineIndicator/LineIndicator';\nimport {ADMIN_APP_URL, CAR_EDIT_APP_URL} from '../../../../../constants/urls';\nimport './CarCardExtra.scss';\n\nfunction CarCardExtra({car}) {\n    const history = useHistory();\n    const toCarEditor = () => history.push(`/${ADMIN_APP_URL}/${CAR_EDIT_APP_URL}/${car.id}`);\n\n    const getCategoryDescription = () => car.categoryId ? `${car.categoryId.name} (${car.categoryId.description})` : 'не указана';\n    const getDescription = () => car.description || 'не указано';\n    const getCarTank = () => car.tank ? `${car.tank}%` : 'не указан';\n    const getColors = () => car.colors && car.colors.length > 0 ? car.colors.map(color => capitalize(color)) : ['не указаны'];\n\n    return (\n        <div className=\"car_card_extra\">\n            <header className=\"car_card_extra__name\">{car.name}</header>\n            <main className=\"car_card_extra__content\">\n                <section>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Категория: </span>\n                        <span className=\"car_card_extra__strong_text\">\n                            {getCategoryDescription()}\n                        </span>\n                    </article>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Описание: </span>\n                        <span className=\"car_card_extra__strong_text\">{getDescription()}</span>\n                    </article>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Гос. номер: </span>\n                        {(car.number && car.number !== 'undefined') ?\n                            <span className=\"car_card_extra__number\">\n                                 {car.number}\n                            </span>\n                            :\n                            <span className=\"car_card_extra__strong_text\">\n                                не указан\n                            </span>\n                        }\n                    </article>\n                </section>\n                <section>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Цена: </span>\n                        <span className=\"car_card_extra__strong_text\">от {car.priceMin} до {car.priceMax}&#8381;</span>\n                    </article>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Уровень топлива:</span>\n                        <span className=\"car_card_extra__strong_text\"> {getCarTank()}</span>\n                        {(car.tank >= 0 && car.tank <= 100) && <LineIndicator value={car.tank}/>}\n                    </article>\n                    <article>\n                        <span className=\"car_card_extra__normal_text\">Доступные цвета:</span>\n                        <ul>\n                            {getColors().map(\n                                color =>\n                                    <li key={color}>\n                                        <span className=\"car_card_extra__strong_text\">{capitalize(color)}</span>\n                                    </li>\n                            )}\n                        </ul>\n                    </article>\n                </section>\n                <ListElementControl handleButtonClick={toCarEditor}/>\n            </main>\n        </div>\n    );\n}\n\nCarCardExtra.propTypes = {\n    car: PropTypes.object\n}\n\nexport default CarCardExtra;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoBlock from '../../../../common/PhotoBlock/PhotoBlock';\nimport CarCardExtra from '../CarCardExtra/CarCardExtra';\nimport './CarCard.scss';\n\nfunction CarCard({car}){\n    return (\n        <li className=\"car_card\">\n            <PhotoBlock photoPath={car.thumbnail.path}/>\n            <CarCardExtra car={car}/>\n        </li>\n    );\n}\n\nCarCard.propTypes = {\n    car: PropTypes.object\n}\n\nexport default CarCard;","import React from 'react';\nimport Paginator from '../../../../common/Paginator/Paginator';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport CarFilters from '../CarFilters/CarFilters';\nimport CarCard from '../CarCard/CarCard';\nimport {CAR_LIST_APP_URL} from '../../../../../constants/urls';\nimport {\n    CATEGORY_FILTER_NAME,\n    PRICE_MAX_FILTER_NAME,\n    PRICE_MIN_FILTER_NAME, TANK_FILTER_NAME\n} from '../../../../../constants/settings';\nimport {loadCarList} from '../../../../../store/actionCreators';\nimport {useListLoader} from '../../../../../store/hooks';\nimport './CarList.scss';\n\nfunction CarList() {\n    const [done, error, items] = useListLoader(\n        CAR_LIST_APP_URL,\n        [CATEGORY_FILTER_NAME, PRICE_MIN_FILTER_NAME, PRICE_MAX_FILTER_NAME, TANK_FILTER_NAME],\n        loadCarList\n    );\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"car_list\">\n            <h1 className=\"car_list__caption\">Автомобили</h1>\n            {done &&\n            <div className=\"car_list__content\">\n                <CarFilters/>\n                {items && items.length > 0 &&\n                <>\n                    <ul>\n                        {items.map(item => <CarCard key={item.id} car={item}/>)}\n                    </ul>\n                    <Paginator/>\n                </>\n                }\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default CarList;","import React, {useEffect, useState} from 'react';\nimport Selector from '../../../../common/Selector/Selector';\nimport {useSelector} from 'react-redux';\nimport {getCatalog} from '../../../../../store/selectors';\nimport {useHistory, useLocation} from 'react-router-dom';\nimport {\n    CITY_FILTER_NAME,\n    CITY_LIST_CATALOG,\n    NO_FILTER_VALUE,\n    PAGE_FILTER_NAME\n} from '../../../../../constants/settings';\nimport {ADMIN_APP_URL, POINT_LIST_APP_URL} from '../../../../../constants/urls';\nimport './PointFilters.scss';\n\nfunction PointFilters() {\n    const [selectedCity, setSelectedCity] = useState(NO_FILTER_VALUE);\n\n    const history = useHistory();\n    const location = useLocation();\n\n    useEffect(() => {\n        const params = new URLSearchParams(location.search);\n        const defaultCity = params.get(CITY_FILTER_NAME);\n        setSelectedCity(defaultCity ? defaultCity : NO_FILTER_VALUE);\n    }, []);\n\n    const cityList = useSelector(getCatalog(CITY_LIST_CATALOG));\n    const citySelectorItems = [{value: NO_FILTER_VALUE, name: 'Любой город'}];\n    for (const city of cityList) citySelectorItems.push({value: city.id, name: city.name});\n\n    const handleCitySelect = value => setSelectedCity(value);\n\n    const handleApplyClick = () => {\n        const params = new URLSearchParams(location.search);\n        params.set(PAGE_FILTER_NAME, '0');\n\n        if (selectedCity === NO_FILTER_VALUE) {\n            params.delete(CITY_FILTER_NAME);\n        } else {\n            params.set(CITY_FILTER_NAME, selectedCity);\n        }\n\n        console.log(`${ADMIN_APP_URL}/${POINT_LIST_APP_URL}?${params}`)\n        history.push(`/${ADMIN_APP_URL}/${POINT_LIST_APP_URL}?${params}`);\n    }\n\n    const handleResetClick = () => {\n        setSelectedCity(NO_FILTER_VALUE);\n        history.push(`/${ADMIN_APP_URL}/${POINT_LIST_APP_URL}?${PAGE_FILTER_NAME}=0`);\n    }\n\n    return (\n        <div className=\"point_filters\">\n            <Selector items={citySelectorItems} value={selectedCity} handleSelect={handleCitySelect}/>\n            <button\n                className=\"button button_red point_filters__reset_button\"\n                onClick={handleResetClick}\n            >\n                Сброс\n            </button>\n            <button\n                className=\"button button_blue point_filters__apply_button\"\n                onClick={handleApplyClick}\n            >\n                Применить\n            </button>\n        </div>\n    );\n}\n\nexport default PointFilters;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {ADMIN_APP_URL, POINT_EDIT_APP_URL} from '../../../../../constants/urls';\nimport './PointCard.scss';\n\nfunction PointCard({point}) {\n    const history = useHistory();\n    const toPointEditor = () => history.push(`/${ADMIN_APP_URL}/${POINT_EDIT_APP_URL}/${point.id}`);\n\n    return (\n        <li className=\"point_card\">\n            <div className=\"point_card__city_block\">\n                <span className=\"point_card__caption_text\">Город:</span>\n                {point.cityId ?\n                    <span className=\"point_card__value_text\">{point.cityId.name}</span>\n                    :\n                    <span className=\"point_card__value_text\">-</span>\n                }\n            </div>\n            <div className=\"point_card__address_block\">\n                <span className=\"point_card__caption_text\">Адрес:</span>\n                <span className=\"point_card__value_text\">{point.address}</span>\n            </div>\n            <div className=\"point_card__name_block\">\n                <span className=\"point_card__caption_text\">Название:</span>\n                <span className=\"point_card__value_text\">{point.name}</span>\n            </div>\n            <div className=\"point_card__control_block\">\n                <button className=\"thin_button thin_button_edit\" onClick={toPointEditor}>Изменить</button>\n            </div>\n        </li>\n    );\n}\n\nPointCard.propTypes = {\n    point: PropTypes.object\n}\n\nexport default PointCard;\n","import React from 'react';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport Paginator from '../../../../common/Paginator/Paginator';\nimport PointFilters from '../PointFilters/PointFilters';\nimport PointCard from '../PointCard/PointCard';\nimport {useListLoader} from '../../../../../store/hooks';\nimport {loadPointList} from '../../../../../store/actionCreators';\nimport {CITY_FILTER_NAME} from '../../../../../constants/settings';\nimport {POINT_LIST_APP_URL} from '../../../../../constants/urls';\nimport './PointList.scss';\n\nfunction PointList() {\n    const [done, error, items] = useListLoader(POINT_LIST_APP_URL, [CITY_FILTER_NAME], loadPointList);\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"point_list\">\n            <h1 className=\"point_list__caption\">Пункты выдачи</h1>\n            {done &&\n            <div className=\"point_list__content\">\n                <PointFilters/>\n                {items && items.length > 0 &&\n                <>\n                    <ul className=\"point_list__title_block\">\n                        <li className=\"point_list__city_title\">Город</li>\n                        <li className=\"point_list__address_title\">Адрес</li>\n                        <li className=\"point_list__name_title\">Название</li>\n                        <li className=\"point_list__control_title\"/>\n                    </ul>\n                    <ul>\n                        {items.map(item => <PointCard key={item.id} point={item}/>)}\n                    </ul>\n                    <Paginator/>\n                </>\n                }\n            </div>\n            }\n        </div>\n    )\n}\n\nexport default PointList;","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch, useSelector} from 'react-redux';\nimport Selector from '../Selector/Selector';\nimport {getCatalog} from '../../../store/selectors';\nimport {prepareItemForSelector, prepareItemsForSelector} from '../../../utils/common_utils';\nimport {setEntityField} from '../../../store/actionCreators';\nimport './CatalogSelector.scss';\n\nfunction CatalogSelector(props) {\n    const {\n        label,\n        catalogName,\n        entityField,\n        fieldGetter,\n        errorText,\n        resetErrorText,\n        nameExtractor,\n        entityDataExtractor,\n        itemsListCreator,\n        enableEmpty\n    } = props;\n\n    const catalog = useSelector(getCatalog(catalogName));\n\n    const [itemsForSelector, setItemsForSelector] = useState([]);\n    const selectedValue = useSelector(fieldGetter);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        let nextList;\n        if (itemsListCreator) {\n            nextList = itemsListCreator(catalog, selectedValue, enableEmpty);\n        } else {\n            nextList = [...catalog];\n            if (!selectedValue || enableEmpty) nextList.unshift(null);\n        }\n        setItemsForSelector(nextList);\n    }, [selectedValue]);\n\n    const handleSelect = value => {\n        let nextFieldValue = catalog.find(item => item.id === value) || null;\n        nextFieldValue = entityDataExtractor ? entityDataExtractor(nextFieldValue) : nextFieldValue;\n        dispatch(setEntityField(entityField, nextFieldValue));\n        if (resetErrorText) resetErrorText();\n    }\n\n    return (\n        <div className=\"catalog_selector\">\n            <Selector\n                label={label}\n                items={prepareItemsForSelector(itemsForSelector, nameExtractor)}\n                value={prepareItemForSelector(selectedValue, nameExtractor).value}\n                handleSelect={handleSelect}\n                errorText={errorText}\n            />\n        </div>\n    );\n}\n\nCatalogSelector.defaulpProps = {\n    nameExtractor: null,\n    entityDataExtractor: null,\n    itemsListCreator: null,\n    errorText: null,\n    resetErrorText: null,\n    removeEmptyAfterSelection: false\n}\n\nCatalogSelector.propTypes = {\n    label: PropTypes.string,\n    catalogName: PropTypes.string,\n    entityField: PropTypes.string,\n    fieldGetter: PropTypes.func,\n    errorText: PropTypes.string,\n    resetErrorText: PropTypes.func,\n    nameExtractor: PropTypes.func,\n    entityDataExtractor: PropTypes.func,\n    itemsListCreator: PropTypes.func,\n    enableEmpty: PropTypes.bool\n}\n\nexport default CatalogSelector;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CatalogSelector from '../../../../common/CatalogSelector/CatalogSelector';\nimport {getOrderCity, getOrderPoint} from '../../../../../store/selectors';\nimport {CITY_LIST_CATALOG, POINT_LIST_CATALOG} from '../../../../../constants/settings';\nimport './PlaceBlock.scss';\n\nfunction PlaceBlock({cityErrorText, pointErrorText, resetCityErrorText, resetPointErrorText}) {\n\n    const listCreatorForPointSelector = (catalog, value) => {\n        // Выстраиваем список пунктов выдачи так, чтобы он был отсортирован по городу.\n        // Делаем это здесь так как, к сожалению, API не позволяет проводить сортировку по связанным записям.\n        // Также учитываем, что есть пункты выдачи, для которых город не указан. Их ставим в начало списка и сортируем по адресу\n        const pointNoCity = catalog.filter(point => !point.cityId);\n        const pointWithCity = catalog.filter(point => !!point.cityId);\n\n        const addressComparator = (a, b) => {\n            if (a.address.toLowerCase() < b.address.toLowerCase()) return -1;\n            if (a.address.toLowerCase() > b.address.toLowerCase()) return 1;\n            return 0;\n        }\n\n        pointNoCity.sort(addressComparator);\n\n        // В пределах одного города пункты выдачи будут отсортированы лексикографически по адресу\n        pointWithCity.sort((a, b) => {\n            if (a.cityId.name.toLowerCase() < b.cityId.name.toLowerCase()) return -1;\n            if (a.cityId.name.toLowerCase() > b.cityId.name.toLowerCase()) return 1;\n            return addressComparator(a, b);\n        });\n\n        const nextList = [...pointNoCity, ...pointWithCity];\n        if (!value) nextList.unshift(null);\n\n        return nextList;\n    }\n\n    const pointNameExtractor = point => `(${point.cityId ? point.cityId.name : 'не указан'}) ${point.address}`;\n\n    const extractDataForEntity = value => {\n        if ('address' in value) return {id: value.id, name: value.name, address: value.address};\n        return {id: value.id, name: value.name};\n    }\n\n    return (\n        <div className=\"place_block\">\n            <CatalogSelector\n                label=\"Город\"\n                catalogName={CITY_LIST_CATALOG}\n                fieldGetter={getOrderCity}\n                entityField=\"cityId\"\n                errorText={cityErrorText}\n                resetErrorText={resetCityErrorText}\n                entityDataExtractor={extractDataForEntity}\n            />\n            <CatalogSelector\n                label=\"Пункт выдачи\"\n                catalogName={POINT_LIST_CATALOG}\n                fieldGetter={getOrderPoint}\n                entityField=\"pointId\"\n                errorText={pointErrorText}\n                resetErrorText={resetPointErrorText}\n                nameExtractor={pointNameExtractor}\n                entityDataExtractor={extractDataForEntity}\n                itemsListCreator={listCreatorForPointSelector}\n            />\n        </div>\n    );\n}\n\nPlaceBlock.propTypes = {\n    cityErrorText: PropTypes.string,\n    pointErrorText: PropTypes.string,\n    resetCityErrorText: PropTypes.func,\n    resetPointErrorText: PropTypes.func\n}\n\nexport default PlaceBlock;","import React, {useEffect, useRef, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Selector from '../../../../common/Selector/Selector';\nimport PhotoBlock from '../../../../common/PhotoBlock/PhotoBlock';\nimport CatalogSelector from '../../../../common/CatalogSelector/CatalogSelector';\nimport {getOrderCar, getOrderColor} from '../../../../../store/selectors';\nimport {setEntityField} from '../../../../../store/actionCreators';\nimport {CAR_LIST_CATALOG, NO_FILTER_VALUE} from '../../../../../constants/settings';\nimport './CarBlock.scss';\n\nfunction CarBlock() {\n    const [colorListForSelector, setColorListForSelector] = useState([]);\n    const selectedColor = useSelector(getOrderColor);\n    const selectedCar = useSelector(getOrderCar);\n\n    const dispatch = useDispatch();\n\n    const hasFirstEffect = useRef(true);\n\n    const prepareColorForSelector = color => {\n        if (!color) return {value: NO_FILTER_VALUE, name: 'Любой цвет'};\n        return {value: color, name: color};\n    };\n\n    const prepareColorsForSelector = colors => colors.map(color => prepareColorForSelector(color));\n\n    const carIdForEffect = selectedCar ? selectedCar.id : '';\n\n    // При выборе нового автомобиля сбрасываем выбранный цвет.\n    // При этом отбрасываем первый запуск хука, чтобы не сбросить цвет сразу же при монтировании.\n    useEffect(() => {\n        if (hasFirstEffect.current) {\n            hasFirstEffect.current = false;\n            return;\n        }\n        dispatch(setEntityField('color', null));\n    }, [carIdForEffect]);\n\n    useEffect(() => {\n        const colorsSet = new Set();\n        if (selectedCar && selectedCar.colors) {\n            for (const color of selectedCar.colors) colorsSet.add(color);\n        }\n        if (selectedColor) colorsSet.add(selectedColor);\n        colorsSet.add(null);\n        setColorListForSelector(Array.from(colorsSet).sort());\n    }, [selectedColor, selectedCar]);\n\n    const handleColorChange = value => {\n        if (value === NO_FILTER_VALUE) {\n            dispatch(setEntityField('color', null));\n            return;\n        }\n        dispatch(setEntityField('color', value));\n    }\n\n    return (\n        <div className=\"car_block\">\n            <div className=\"car_block__selectors\">\n                <CatalogSelector\n                    label=\"Автомобиль\"\n                    catalogName={CAR_LIST_CATALOG}\n                    entityField=\"carId\"\n                    fieldGetter={getOrderCar}\n                />\n                <Selector\n                    label=\"Цвет\"\n                    items={prepareColorsForSelector(colorListForSelector)}\n                    value={prepareColorForSelector(selectedColor).value}\n                    handleSelect={handleColorChange}\n                />\n            </div>\n            <PhotoBlock photoPath={selectedCar ? selectedCar.thumbnail.path : null}/>\n        </div>\n    );\n}\n\nexport default CarBlock;","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport CheckBox from '../../../../common/CheckBox/CheckBox';\nimport {getOrderChair, getOrderTank, getOrderWheel} from '../../../../../store/selectors';\nimport './OptionBlock.scss';\nimport {setEntityField} from \"../../../../../store/actionCreators\";\n\nfunction OptionBlock() {\n    const tank = useSelector(getOrderTank);\n    const chair = useSelector(getOrderChair);\n    const wheel = useSelector(getOrderWheel);\n\n    const dispatch = useDispatch();\n\n    const handleTankChange = () => dispatch(setEntityField('isFullTank', !tank));\n    const handleChairChange = () => dispatch(setEntityField('isNeedChildChair', !chair));\n    const handleWheelChange = () => dispatch(setEntityField('isRightWheel', !wheel));\n\n    return (\n        <div className=\"option_block\">\n            <CheckBox defaultValue={!!tank} handleChange={handleTankChange} caption=\"Полный бак\"/>\n            <CheckBox defaultValue={!!chair} handleChange={handleChairChange} caption=\"Детское кресло\"/>\n            <CheckBox defaultValue={!!wheel} handleChange={handleWheelChange} caption=\"Правый руль\"/>\n        </div>\n    );\n}\n\nexport default OptionBlock;","import React from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ru from 'date-fns/locale/ru';\nimport DatePicker, {setDefaultLocale} from 'react-datepicker';\nimport {getOrderDateFrom, getOrderDateTo} from '../../../../../store/selectors';\nimport {setEntityField} from '../../../../../store/actionCreators';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport './DateBlock.scss';\n\nsetDefaultLocale(ru);\n\nfunction DateBlock() {\n    const dateFrom = useSelector(getOrderDateFrom);\n    const dateTo = useSelector(getOrderDateTo);\n\n    const dispatch = useDispatch();\n\n    const commonDatePickerProps = {\n        showTimeInput: true,\n        dateFormat: 'Pp',\n        locale: ru,\n        timeCaption: 'Время',\n        isClearable: true\n    }\n\n    const handleChangeDateFrom = value => dispatch(setEntityField('dateFrom', +value));\n    const handleChangeDateTo = value => dispatch(setEntityField('dateTo', +value));\n\n    return (\n        <div className=\"date_block\">\n            <div className=\"date_block__from_block\">\n                <label>Дата начала аренды</label>\n                <DatePicker selected={dateFrom} {...commonDatePickerProps} onChange={handleChangeDateFrom}/>\n            </div>\n            <div className=\"date_block__to_block\">\n                <label>Дата окончания аренды</label>\n                <DatePicker selected={dateTo} {...commonDatePickerProps} onChange={handleChangeDateTo}/>\n            </div>\n        </div>\n    );\n}\n\nexport default DateBlock;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './EditorControlBlock.scss';\n\nfunction EditorControlBlock({handleSave, handleCancel, handleRemove}) {\n    return (\n        <div className=\"editor_control_block\">\n            <button className=\"button button_blue\" onClick={handleSave}>Сохранить</button>\n            <button className=\"button button_silver\" onClick={handleCancel}>Отменить</button>\n            <button className=\"button button_red\" onClick={handleRemove}>Удалить</button>\n        </div>\n    );\n}\n\nEditorControlBlock.propTypes = {\n    handleSave: PropTypes.func,\n    handleCancel: PropTypes.func,\n    handleRemove: PropTypes.func\n}\n\nexport default EditorControlBlock;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch, useSelector} from 'react-redux';\nimport TextField from '../TextField/TextField';\nimport {setEntityField} from '../../../store/actionCreators';\nimport './TextValueEditor.scss';\n\nfunction TextValueEditor(props) {\n    const {\n        label,\n        getValue,\n        entityField,\n        errorText,\n        resetErrorText,\n        placeholder,\n        enabledSpaceOnly,\n        setNullIfEmpty\n    } = props;\n\n    const dispatch = useDispatch();\n    const value = useSelector(getValue);\n\n    const handleChangeValue = event => {\n        let nextValue = event.target.value;\n\n        // Если указан соответствующий флаг - разрешаем вводить строки, состоящие из одних пробелов\n        if (!nextValue.trim() && nextValue.length > 0 && !enabledSpaceOnly) return;\n\n        // Если указан соответствующий флаг, то пустую строку сохраняем в объекте как null\n        if (nextValue === '' && setNullIfEmpty) nextValue = null;\n\n        dispatch(setEntityField(entityField, nextValue));\n        if (resetErrorText) resetErrorText();\n    };\n\n    return (\n        <div className=\"text_value_editor\">\n            <TextField\n                label={label}\n                value={value}\n                handleChangeValue={handleChangeValue}\n                errorText={errorText}\n                placeholder={placeholder}\n            />\n        </div>\n    );\n}\n\nTextValueEditor.defaultProps = {\n    errorText: null,\n    resetErrorText: null,\n    placeholder: '',\n    enabledSpaceOnly: false,\n    setNullIfEmpty: false\n}\n\nTextValueEditor.propTypes = {\n    label: PropTypes.string,\n    getValue: PropTypes.func,\n    entityField: PropTypes.string,\n    errorText: PropTypes.string,\n    resetErrorText: PropTypes.func,\n    placeholder: PropTypes.string,\n    enabledSpaceOnly: PropTypes.bool,\n    setNullIfEmpty: PropTypes.bool\n}\n\nexport default TextValueEditor;","import React, {useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useRouteMatch, useHistory} from 'react-router-dom';\nimport {useEntityLoader, useGlobalPreloader} from '../../../../../store/hooks';\nimport {loadOrder, removeOrder, updateOrder, setPopupMessage} from '../../../../../store/actionCreators';\nimport PlaceBlock from '../PlaceBlock/PlaceBlock';\nimport CarBlock from '../CarBlock/CarBlock';\nimport OptionBlock from '../OptionBlock/OptionBlock';\nimport DateBlock from '../DateBlock/DateBlock';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport EditorControlBlock from '../../../../common/EditorControlBlock/EditorControlBlock';\nimport CatalogSelector from '../../../../common/CatalogSelector/CatalogSelector';\nimport TextValueEditor from '../../../../common/TextValueEditor/TextValueEditor';\nimport {getEntity, getOrderStatus, getOrderRate, getOrderPrice} from '../../../../../store/selectors';\nimport {isWholePositiveOrZero} from '../../../../../utils/common_utils';\nimport {ADMIN_APP_URL} from '../../../../../constants/urls';\nimport {RATE_LIST_CATALOG, STATUS_LIST_CATALOG, SUCCESS} from '../../../../../constants/settings';\nimport './Order.scss';\n\nfunction Order() {\n    const [done, setDone] = useState(false);\n    const [error, setError] = useState(null);\n    const [showPreloader, hidePreloader] = useGlobalPreloader();\n\n    const dispatch = useDispatch();\n    const order = useSelector(getEntity);\n\n    const [statusErrorText, setStatusErrorText] = useState(null);\n    const [cityErrorText, setCityErrorText] = useState(null);\n    const [pointErrorText, setPointErrorText] = useState(null);\n    const [priceErrorText, setPriceErrorText] = useState(null);\n\n    const {params: {id}} = useRouteMatch();\n    const history = useHistory();\n\n    const rateNameExtractor = rate => `${rate.rateTypeId.name} (${rate.price}р./${rate.rateTypeId.unit})`\n\n    // Блок функций сброса ошибок\n    const resetStatusErrorText = () => setStatusErrorText(null);\n    const resetCityErrorText = () => setCityErrorText(null);\n    const resetPointErrorText = () => setPointErrorText(null);\n    const resetPriceErrorText = () => setPriceErrorText(null);\n\n    const resetAllErrors = () => {\n        resetStatusErrorText();\n        resetCityErrorText();\n        resetPointErrorText();\n        resetPriceErrorText();\n    }\n\n    // При монтировании пытаемся загрузить заказ\n    useEntityLoader(setDone, setError, resetAllErrors, loadOrder)\n\n    // Блок обработчиков кликов\n    const handleSaveButtonClick = () => {\n        // Перед попыткой сохранения проверяем заполнение обязательных полей. Без их указания - бэк не даст выполнить сохранение\n        if (!order.orderStatusId) setStatusErrorText('Выберите статус заказа');\n        if (!order.cityId) setCityErrorText('Выберите город');\n        if (!order.pointId) setPointErrorText('Выберите пункт выдачи');\n\n        // Проверяем корректность указания цены\n        const priceError = (order.price !== null && order.price !== undefined) && !isWholePositiveOrZero(order.price);\n        if (priceError) setPriceErrorText('Введите корректное значение цены');\n\n        if (!order.orderStatusId || !order.cityId || !order.pointId || priceError) return;\n\n        // Пытаемся выполнить сохранение\n        showPreloader();\n        setError(null);\n        dispatch(updateOrder(order))\n            .then(() => dispatch(setPopupMessage(SUCCESS, 'Заказ успешно сохранен')))\n            .catch(err => setError(err))\n            .finally(() => hidePreloader());\n    }\n\n    const handleCancelButtonClick = () => history.goBack();\n\n    const handleRemoveButtonClick = () => {\n        showPreloader();\n        setDone(false);\n        setError(null);\n        dispatch(removeOrder(id))\n            .then(() => {\n                dispatch(setPopupMessage(SUCCESS, 'Заказ успешно удален'));\n                history.push(`/${ADMIN_APP_URL}`);\n            })\n            .catch(err => {\n                setError(err);\n                setDone(true);\n            })\n            .finally(() => hidePreloader());\n    }\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"order\">\n            <h1 className=\"order__caption\">Заказ №{id}</h1>\n            {done &&\n            <div className=\"order__content\">\n                <div className=\"order__settings_block\">\n                    <CatalogSelector\n                        label=\"Статус заказа\"\n                        catalogName={STATUS_LIST_CATALOG}\n                        entityField=\"orderStatusId\"\n                        fieldGetter={getOrderStatus}\n                        errorText={statusErrorText}\n                        resetErrorText={resetStatusErrorText}\n                    />\n                    <PlaceBlock\n                        cityErrorText={cityErrorText}\n                        pointErrorText={pointErrorText}\n                        resetCityErrorText={resetCityErrorText}\n                        resetPointErrorText={resetPointErrorText}\n                    />\n                    <CarBlock/>\n                    <DateBlock/>\n                    <CatalogSelector\n                        label=\"Тариф\"\n                        catalogName={RATE_LIST_CATALOG}\n                        entityField=\"rateId\"\n                        fieldGetter={getOrderRate}\n                        nameExtractor={rateNameExtractor}\n                        enableEmpty\n                    />\n                    <OptionBlock/>\n                    <TextValueEditor\n                        label=\"Цена\"\n                        getValue={getOrderPrice}\n                        entityField=\"price\"\n                        errorText={priceErrorText}\n                        resetErrorText={resetPriceErrorText}\n                        setNullIfEmpty\n                    />\n                </div>\n                <EditorControlBlock\n                    handleCancel={handleCancelButtonClick}\n                    handleSave={handleSaveButtonClick}\n                    handleRemove={handleRemoveButtonClick}\n                />\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default Order;","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport {getCarCategory, getCarName} from '../../../../../store/selectors';\nimport './CarInfo.scss';\n\nfunction CarInfo() {\n    const name = useSelector(getCarName);\n    const category = useSelector(getCarCategory);\n\n    return (\n        <div className=\"car_info\">\n            {name && <span className=\"car_info__name_caption\">{name}</span>}\n            {category && <span className=\"car_info__category_caption\">{category.name}</span>}\n        </div>\n    );\n}\n\nexport default CarInfo;","import React, {useEffect, useRef, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {useSelector, useDispatch} from 'react-redux';\nimport PhotoBlock from '../../../../common/PhotoBlock/PhotoBlock';\nimport CarInfo from '../CarInfo/CarInfo';\nimport {getCarId, getCarThumbnail} from '../../../../../store/selectors';\nimport {setEntityField, setPopupMessage} from '../../../../../store/actionCreators';\nimport {getRandomString} from '../../../../../utils/common_utils';\nimport {FAIL} from '../../../../../constants/settings';\nimport './CarPhotoChooser.scss';\n\nfunction CarPhotoChooser({errorText, resetErrorText}) {\n    const id = useSelector(getCarId);\n    const thumbnail = useSelector(getCarThumbnail);\n\n    const [photoPath, setPhotoPath] = useState(null);\n    const fileSelectorRef = useRef(null);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (!thumbnail) {\n            setPhotoPath(null);\n            fileSelectorRef.current.value = null;\n            return;\n        }\n        if ('path' in thumbnail) setPhotoPath(thumbnail.path);\n    }, [thumbnail]);\n\n    const handleFileSelect = event => {\n        const file = event.target.files[0];\n        if (!file) return;\n\n        const fileReader = new FileReader();\n        fileReader.readAsDataURL(file);\n        fileReader.onload = event => {\n            dispatch(setEntityField('thumbnail', file));\n            setPhotoPath(event.currentTarget.result);\n            resetErrorText();\n        };\n        fileReader.onerror = () => {\n            dispatch(setPopupMessage(FAIL, 'Не удалось загрузить изображение'));\n            setPhotoPath(null);\n        }\n    }\n\n    const fileInputId = getRandomString();\n\n    const fileSelectorClasses = classNames('car_photo_chooser__file_selector', {'file_input_error': !!errorText});\n\n    return (\n        <div className=\"car_photo_chooser\">\n            <PhotoBlock photoPath={photoPath}/>\n            {id && <CarInfo/>}\n            <div className={fileSelectorClasses}>\n                <input\n                    type=\"file\"\n                    id={fileInputId}\n                    accept=\"image/png, image/jpeg\"\n                    onChange={handleFileSelect}\n                    ref={fileSelectorRef}\n                />\n                <label htmlFor={fileInputId} className=\"car_photo_chooser__file_name\">\n                    {(thumbnail instanceof File) ? thumbnail.name : 'Выберите файл...'}\n                </label>\n                <label htmlFor={fileInputId} className=\"car_photo_chooser__file_choose\">Обзор</label>\n            </div>\n            {errorText && <span className=\"file_input_error_text\">{errorText}</span>}\n        </div>\n    );\n}\n\nCarPhotoChooser.propTypes = {\n    errorText: PropTypes.string,\n    resetErrorText: PropTypes.func\n}\n\nexport default CarPhotoChooser;","import React from 'react';\nimport {useSelector} from 'react-redux';\nimport LineIndicator from '../../../../common/LineIndicator/LineIndicator';\nimport {getCarTank} from '../../../../../store/selectors';\nimport './CarTankViewer.scss';\n\nfunction CarTankViewer() {\n    const tank = useSelector(getCarTank);\n\n    const hasTankValue = tank !== null && tank !== undefined;\n\n    return (\n        <div className=\"car_tank_viewer\">\n            <div className=\"car_tank_viewer__value_block\">\n                <span>Заполнено</span>\n                <span>{hasTankValue ? `${tank}%` : '-'}</span>\n            </div>\n            <LineIndicator value={hasTankValue ? tank : 0}/>\n        </div>\n    );\n}\n\nexport default CarTankViewer;","import React from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {gedCarDescription} from '../../../../../store/selectors';\nimport {setEntityField} from '../../../../../store/actionCreators';\nimport {getRandomString} from '../../../../../utils/common_utils';\nimport './CarDescription.scss';\n\nfunction CarDescription() {\n    const dispatch = useDispatch();\n    const description = useSelector(gedCarDescription);\n\n    const handleDescriptionChange = event => dispatch(setEntityField('description', event.target.value));\n\n    const areaId = getRandomString();\n\n    return (\n        <div className=\"car_description\">\n            <label htmlFor={areaId}>Описание</label>\n            <textarea id={areaId} value={description} onChange={handleDescriptionChange}/>\n        </div>\n    );\n}\n\nexport default CarDescription;","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch, useSelector} from 'react-redux';\nimport CheckBox from '../../../../common/CheckBox/CheckBox';\nimport TextField from '../../../../common/TextField/TextField';\nimport {setEntityField} from '../../../../../store/actionCreators';\nimport {getCarColors} from '../../../../../store/selectors';\nimport './CarColors.scss';\n\nfunction CarColors({errorText, resetErrorText}) {\n    const dispatch = useDispatch();\n\n    const entityColors = useSelector(getCarColors);\n\n    const [colorsForSelect, setColorsForSelect] = useState([]);\n    const [colorsFlag, setColorsFlag] = useState([]);\n\n    const [colorInputValue, setColorInputValue] = useState('');\n\n    useEffect(() => {\n        if (entityColors && entityColors.length > 0) {\n            setColorsForSelect([...entityColors]);\n            setColorsFlag(Array(entityColors.length).fill(true));\n        }\n    }, []);\n\n    useEffect(() => {\n        dispatch(setEntityField('colors', colorsForSelect.filter((_, index) => colorsFlag[index])));\n        resetErrorText();\n    }, [colorsForSelect, colorsFlag])\n\n    const handleColorInputChange = event => {\n        const nextValue = event.target.value;\n        if (nextValue.trim() === '' && nextValue.length > 0) return;\n        setColorInputValue(nextValue)\n    }\n\n    const handleAppendColor = () => {\n        if (!colorInputValue) return;\n\n        // Не даем пользователю добавить в список цветов дубликат\n        if (colorsForSelect.find(color => color.toLowerCase() === colorInputValue.toLowerCase())) return;\n\n        setColorsForSelect([colorInputValue, ...colorsForSelect]);\n        setColorsFlag([true, ...colorsFlag]);\n        setColorInputValue('');\n    }\n\n    const handleCheckBoxChange = index => {\n        setColorsFlag(oldFlags => oldFlags.map((flag, flagIndex) => flagIndex === index ? !flag : flag));\n    }\n\n    return (\n        <div className=\"car_colors\">\n            <div className=\"car_colors__input_block\">\n                <TextField\n                    label=\"Доступные цвета\"\n                    value={colorInputValue}\n                    handleChangeValue={handleColorInputChange}\n                    errorText={errorText}\n                />\n                <button onClick={handleAppendColor}>+</button>\n            </div>\n            {colorsForSelect.length > 0 &&\n            <ul className=\"car_colors__colors_block\">\n                {colorsForSelect.map(\n                    (color, index) => (\n                        <li key={color}>\n                            <CheckBox\n                                defaultValue={colorsFlag[index]}\n                                handleChange={() => handleCheckBoxChange(index)}\n                                caption={color}\n                            />\n                        </li>\n                    )\n                )}\n            </ul>\n            }\n        </div>\n    );\n}\n\nCarColors.propTypes = {\n    errorText: PropTypes.string,\n    resetErrorText: PropTypes.func\n}\n\nexport default CarColors;","import React, {useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useHistory, useRouteMatch} from 'react-router-dom';\nimport CarPhotoChooser from '../CarPhotoChooser/CarPhotoChooser';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport EditorControlBlock from '../../../../common/EditorControlBlock/EditorControlBlock';\nimport CarTankViewer from '../CarTankViewer/CarTankViewer';\nimport CarDescription from '../CarDescription/CarDescription';\nimport TextValueEditor from '../../../../common/TextValueEditor/TextValueEditor';\nimport CatalogSelector from '../../../../common/CatalogSelector/CatalogSelector';\nimport {useEntityLoader, useGlobalPreloader} from '../../../../../store/hooks';\nimport {initNewCar, loadCar, removeCar, saveCar, setPopupMessage} from '../../../../../store/actionCreators';\nimport {FAIL, SUCCESS, CAR_CATEGORY_CATALOG} from '../../../../../constants/settings';\nimport {ADMIN_APP_URL, CAR_EDIT_APP_URL, CAR_LIST_APP_URL} from '../../../../../constants/urls';\nimport {isWholePositiveOrZero} from '../../../../../utils/common_utils';\nimport {\n    getEntity,\n    getCarName,\n    getPriceMin,\n    getPriceMax,\n    getCarNumber,\n    getCarTank,\n    getCarCategory\n} from '../../../../../store/selectors';\nimport './Car.scss';\nimport CarColors from \"../CarColors/CarColors\";\n\n\nfunction Car() {\n    const [done, setDone] = useState(false);\n    const [error, setError] = useState(null);\n    const [showPreloader, hidePreloader] = useGlobalPreloader();\n\n    const dispatch = useDispatch();\n    const car = useSelector(getEntity);\n\n    const [thumbnailError, setThumbnailError] = useState(null);\n    const [nameError, setNameError] = useState(null);\n    const [categoryError, setCategoryError] = useState(null);\n    const [priceMinError, setPriceMinError] = useState(null);\n    const [priceMaxError, setPriceMaxError] = useState(null);\n    const [tankError, setTankError] = useState(null);\n    const [colorsError, setColorsError] = useState(null);\n\n    const {params: {id}} = useRouteMatch();\n    const history = useHistory();\n\n    // Блок функций сброса ошибок\n    const resetThumbnailError = () => setThumbnailError(null);\n    const resetNameError = () => setNameError(null);\n    const resetCategoryError = () => setCategoryError(null);\n    const resetPriceMinError = () => setPriceMinError(null);\n    const resetPriceMaxError = () => setPriceMaxError(null);\n    const resetTankError = () => setTankError(null);\n    const resetColorsError = () => setColorsError(null);\n\n    const resetAllErrors = () => {\n        resetThumbnailError();\n        resetNameError();\n        resetCategoryError();\n        resetPriceMinError();\n        resetPriceMaxError();\n        resetTankError();\n        resetColorsError();\n    }\n\n    // Загружаем автомобиль для редактирования или создаем новый, если нужно\n    useEntityLoader(setDone, setError, resetAllErrors, loadCar, initNewCar);\n\n    // Блок обработчиков кликов\n    const handleSaveButtonClick = () => {\n        if (!car.thumbnail) setThumbnailError('Выберите фото автомобиля');\n        if (!car.name) setNameError('Введите название модели');\n        if (!car.categoryId) setCategoryError('Выберите тип автомобиля');\n\n        const priceMinError = !isWholePositiveOrZero(car.priceMin);\n        const priceMaxError = !isWholePositiveOrZero(car.priceMax);\n        const priceError = priceMinError || priceMaxError;\n        if (priceMinError) setPriceMinError(\"Некорректное значение начальной цены\");\n        if (priceMaxError) setPriceMaxError(\"Некорректное значение конечной цены\");\n\n        const hasTankError = car.tank !== '' && (!isWholePositiveOrZero(car.tank) || car.tank > 100);\n        if (hasTankError) setTankError(\"Введите корректный уровень топлива (от 0 до 100%)\");\n\n        if (!car.colors.length) setColorsError('Выберите или введите хотя бы один цвет');\n\n        if (!car.thumbnail || !car.name || !car.categoryId || priceError || hasTankError || !car.colors.length) return;\n\n        // Пытаемся выполнить сохранение. Если сохраняли новый автомобиль, то переходим на страницу редактирования\n        showPreloader();\n        setError(null);\n        dispatch(saveCar(car))\n            .then(createdId => {\n                dispatch(setPopupMessage(SUCCESS, 'Автомобиль успешно сохранен'));\n                if (!id) history.push(`/${ADMIN_APP_URL}/${CAR_EDIT_APP_URL}/${createdId}`);\n            })\n            .catch(err => setError(err))\n            .finally(() => hidePreloader());\n    }\n\n    const handleCancelButtonClick = () => {\n        if (id) {\n            history.push(`/${ADMIN_APP_URL}/${CAR_LIST_APP_URL}`);\n            return;\n        }\n        history.push(`/${ADMIN_APP_URL}`);\n    }\n\n    const handleRemoveButtonClick = () => {\n        // Не даем выполнить удаление, если редактируем данные нового авто и машина еще не сохранена\n        if (!id) {\n            dispatch(setPopupMessage(FAIL, 'Нельзя удалить не сохраненный автомобиль'));\n            return;\n        }\n\n        showPreloader();\n        setDone(false);\n        setError(null);\n        dispatch(removeCar(id))\n            .then(() => {\n                dispatch(setPopupMessage(SUCCESS, 'Автомобиль успешно удален'));\n                history.push(`/${ADMIN_APP_URL}`);\n            })\n            .catch(err => {\n                setError(err);\n                setDone(true);\n            })\n            .finally(() => hidePreloader());\n    }\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"car\">\n            <h1 className=\"car__caption\">Карточка автомобиля</h1>\n            {done &&\n            <div className=\"car__content_wrapper\">\n                <div className=\"car__content car__first_content_block\">\n                    <CarPhotoChooser errorText={thumbnailError} resetErrorText={resetThumbnailError}/>\n                    <div className=\"car__description_block\">\n                        <CarTankViewer/>\n                        <CarDescription/>\n                    </div>\n                </div>\n                <div className=\"car__content car__second_content_block\">\n                    <h1 className=\"car__settings_caption\">Настройки автомобиля</h1>\n                    <div className=\"car__settings_block\">\n                        <TextValueEditor\n                            label=\"Модель автомобиля\"\n                            getValue={getCarName}\n                            entityField=\"name\"\n                            errorText={nameError}\n                            resetErrorText={resetNameError}\n                        />\n                        <CatalogSelector\n                            label=\"Тип автомобиля\"\n                            catalogName={CAR_CATEGORY_CATALOG}\n                            entityField=\"categoryId\"\n                            fieldGetter={getCarCategory}\n                            errorText={categoryError}\n                            resetErrorText={resetCategoryError}\n                            nameExtractor={category => `${category.name} (${category.description})`}\n                        />\n                    </div>\n                    <div className=\"car__settings_block\">\n                        <TextValueEditor\n                            label=\"Начальная цена\"\n                            getValue={getPriceMin}\n                            entityField=\"priceMin\"\n                            errorText={priceMinError}\n                            resetErrorText={resetPriceMinError}\n                        />\n                        <TextValueEditor\n                            label=\"Конечная цена\"\n                            getValue={getPriceMax}\n                            entityField=\"priceMax\"\n                            errorText={priceMaxError}\n                            resetErrorText={resetPriceMaxError}\n                        />\n                    </div>\n                    <div className=\"car__settings_block\">\n                        <TextValueEditor\n                            label=\"Гос. номер\"\n                            getValue={getCarNumber}\n                            entityField=\"number\"\n                        />\n                        <TextValueEditor\n                            label=\"Уровень топлива\"\n                            getValue={getCarTank}\n                            entityField=\"tank\"\n                            errorText={tankError}\n                            resetErrorText={resetTankError}\n                        />\n                    </div>\n                    <CarColors errorText={colorsError} resetErrorText={resetColorsError}/>\n                    <EditorControlBlock\n                        handleSave={handleSaveButtonClick}\n                        handleCancel={handleCancelButtonClick}\n                        handleRemove={handleRemoveButtonClick}\n                    />\n                </div>\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default Car;","import React, {useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useHistory, useRouteMatch} from 'react-router-dom';\nimport {useEntityLoader, useGlobalPreloader} from '../../../../../store/hooks';\nimport EditorControlBlock from '../../../../common/EditorControlBlock/EditorControlBlock';\nimport CatalogSelector from '../../../../common/CatalogSelector/CatalogSelector';\nimport TextValueEditor from '../../../../common/TextValueEditor/TextValueEditor';\nimport ErrorPane from '../../../../common/ErrorPane/ErrorPane';\nimport {initNewPoint, loadPoint, removePoint, savePoint, setPopupMessage} from '../../../../../store/actionCreators';\nimport {getEntity, getPointCity, getPointName, getPointAddress} from '../../../../../store/selectors';\nimport {CITY_LIST_CATALOG, FAIL, SUCCESS} from '../../../../../constants/settings';\nimport {ADMIN_APP_URL, POINT_EDIT_APP_URL, POINT_LIST_APP_URL} from '../../../../../constants/urls';\nimport './Point.scss';\n\nfunction Point() {\n    const [done, setDone] = useState(false);\n    const [error, setError] = useState(null);\n    const [showPreloader, hidePreloader] = useGlobalPreloader();\n\n    const dispatch = useDispatch();\n    const point = useSelector(getEntity);\n\n    const [cityError, setCityError] = useState(null);\n    const [addressError, setAddressError] = useState(null);\n    const [pointNameError, setPointNameError] = useState(null);\n\n    const {params: {id}} = useRouteMatch();\n    const history = useHistory();\n\n    // Блок функций сброса ошибок\n    const resetCityError = () => setCityError(null);\n    const resetAddressError = () => setAddressError(null);\n    const resetPointNameError = () => setPointNameError(null);\n\n    const resetAllErrors = () => {\n        resetCityError();\n        resetAddressError();\n        resetPointNameError();\n    }\n\n    // Загружаем пункт выдачи для редактирования или создаем новый, если нужно\n    useEntityLoader(setDone, setError, resetAllErrors, loadPoint, initNewPoint);\n\n    // Блок обработчиков кликов\n    const handleSaveButtonClick = () => {\n        const {cityId, name, address} = point;\n        if (!cityId) setCityError('Выберите город');\n        if (!name) setPointNameError('Введите описание');\n        if (!address) setAddressError('Введите адрес пункта выдачи');\n        if (!cityId || !name || !address) return;\n\n        // Пытаемся выполнить сохранение. Если сохраняли новый автомобиль, то переходим на страницу редактирования\n        showPreloader();\n        setError(null);\n        dispatch(savePoint(point))\n            .then(createdId => {\n                dispatch(setPopupMessage(SUCCESS, 'Автомобиль успешно сохранен'));\n                if (!id) history.push(`/${ADMIN_APP_URL}/${POINT_EDIT_APP_URL}/${createdId}`);\n            })\n            .catch(err => setError(err))\n            .finally(() => hidePreloader());\n    }\n\n    const handleCancelButtonClick = () => {\n        if (id) {\n            history.push(`/${ADMIN_APP_URL}/${POINT_LIST_APP_URL}`);\n            return\n        }\n        history.push(`/${ADMIN_APP_URL}`);\n    }\n\n    const handleRemoveButtonClick = () => {\n        if (!id) {\n            dispatch(setPopupMessage(FAIL, 'Нельзя удалить не сохраненный пункт выдачи'));\n            return;\n        }\n\n        showPreloader();\n        setDone(false);\n        setError(null);\n        dispatch(removePoint(id))\n            .then(() => {\n                dispatch(setPopupMessage(SUCCESS, 'Пункт выдачи успешно удален'));\n                history.push(`/${ADMIN_APP_URL}`);\n            })\n            .catch(err => {\n                setError(err);\n                setDone(true);\n            })\n            .finally(() => hidePreloader());\n    }\n\n    if (error) return <ErrorPane error={error}/>;\n\n    return (\n        <div className=\"point\">\n            <h1 className=\"point__caption\">Пункт выдачи</h1>\n            {done &&\n            <div className=\"point__content\">\n                    <CatalogSelector\n                        label=\"Город\"\n                        catalogName={CITY_LIST_CATALOG}\n                        entityField=\"cityId\"\n                        fieldGetter={getPointCity}\n                        errorText={cityError}\n                        resetErrorText={resetCityError}\n                    />\n                    <div className=\"point__place_settings\">\n                    <TextValueEditor\n                        label=\"Название\"\n                        errorText={pointNameError}\n                        resetErrorText={resetPointNameError}\n                        getValue={getPointName}\n                        entityField=\"name\"\n                    />\n                    <TextValueEditor\n                        label=\"Адрес\"\n                        errorText={addressError}\n                        resetErrorText={resetAddressError}\n                        getValue={getPointAddress}\n                        entityField=\"address\"\n                    />\n                    </div>\n                <EditorControlBlock\n                    handleSave={handleSaveButtonClick}\n                    handleCancel={handleCancelButtonClick}\n                    handleRemove={handleRemoveButtonClick}\n                />\n            </div>\n            }\n        </div>\n    );\n}\n\nexport default Point;","import React from 'react';\nimport {useLocation, useHistory} from 'react-router-dom';\nimport './NoMatch.scss';\n\nfunction NoMatch() {\n    const location = useLocation();\n    const history = useHistory();\n\n    return (\n        <div className=\"no_match\">\n            <div className=\"no_match__content\">\n                <h1 className=\"no_match__caption\">Страница {location.pathname} не найдена...</h1>\n                <button className=\"button button_green\" onClick={() => history.goBack()}>Назад</button>\n            </div>\n        </div>\n    )\n}\n\nexport default NoMatch;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './RouterCap.scss';\n\nfunction RouterCap({mainCaption, buttonCaption, handleButtonClick}) {\n    return (\n        <div className=\"router_cap\">\n            <div className=\"router_cap__content\">\n                <h1 className=\"router_cap__main_caption\">{mainCaption}</h1>\n                <button className=\"button button_green\" onClick={handleButtonClick}>\n                    {buttonCaption}\n                </button>\n            </div>\n        </div>\n    );\n}\n\nRouterCap.propTypes = {\n    mainCaption: PropTypes.string,\n    buttonCaption: PropTypes.string,\n    handleButtonClick: PropTypes.func\n}\n\nexport default RouterCap;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCancelIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 7,\n    height: 8,\n    viewBox: \"0 0 7 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.63821 1.205L5.97118 0.5L3.32668 3.295L0.682175 0.5L0.0151367 1.205L2.65964 4L0.0151367 6.795L0.682175 7.5L3.32668 4.705L5.97118 7.5L6.63821 6.795L3.99371 4L6.63821 1.205Z\",\n    fill: \"#C4183C\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCancelIcon);\nexport default __webpack_public_path__ + \"static/media/cancel_icon.8b91f441.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect, useRef, useState} from 'react';\nimport classNames from 'classnames';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {ReactComponent as CancelIcon} from '../../../content/images/cancel_icon.svg';\nimport {getPopupMessage} from '../../../store/selectors';\nimport {setPopupMessage} from '../../../store/actionCreators';\nimport {FAIL, SUCCESS} from '../../../constants/settings';\nimport './PopupMessage.scss';\n\nfunction PopupMessage() {\n    const [hasVisible, setHasVisible] = useState(false);\n    const message = useSelector(getPopupMessage);\n    const dispatch = useDispatch();\n    const timer = useRef(null);\n\n    const {text, status} = message;\n\n    const hidePopupMessage = () => setHasVisible(false);\n    const removePopupMessage = () => dispatch(setPopupMessage(null, null));\n\n    useEffect(() => {\n        clearTimeout(timer.current);\n        if (text) {\n            timer.current = setTimeout(hidePopupMessage, 3000);\n            setHasVisible(true);\n            return;\n        }\n        setHasVisible(false);\n    }, [message]);\n\n    // Предотвращаем возможную попытку обновления состояния компонента по таймеру после его размонтирования\n    useEffect(() => () => clearTimeout(timer.current), []);\n\n    const handleCancelIconClick = () => hidePopupMessage();\n\n    // После завершения анимации скрытия сообщения - удаляем его и из хранилища\n    const handleTransition = () => {\n        if (!hasVisible) removePopupMessage();\n    }\n\n    const popupMessageClasses = classNames(\n        'popup_message',\n        {\n            'popup_message_visible': hasVisible,\n            'fail_message': status === FAIL,\n            'success_message': status === SUCCESS\n        }\n    );\n\n    return (\n        <div className={popupMessageClasses} onTransitionEnd={handleTransition}>\n            <h1 className=\"popup_message__text\">{text}</h1>\n            <CancelIcon onClick={handleCancelIconClick}/>\n        </div>\n    );\n}\n\nexport default PopupMessage;","import React, {useEffect} from 'react';\nimport {useDispatch} from 'react-redux';\nimport {Switch, Route, useHistory} from 'react-router-dom';\nimport OrderList from '../order_list/OrderList/OrderList';\nimport CarList from '../car_list/CarList/CarList';\nimport PointList from '../point_list/PointList/PointList';\nimport Order from '../order/Order/Order';\nimport Car from '../car/Car/Car';\nimport Point from '../point/Point/Point';\nimport NoMatch from '../../../common/NoMatch/NoMatch';\nimport RouterCap from '../../../common/RouterCap/RouterCap';\nimport PopupMessage from '../../../common/PopupMessage/PopupMessage';\nimport {setPopupMessage} from '../../../../store/actionCreators';\nimport {\n    ADMIN_APP_URL,\n    ORDER_LIST_APP_URL,\n    CAR_LIST_APP_URL,\n    POINT_LIST_APP_URL,\n    ORDER_EDIT_APP_URL,\n    CAR_CREATE_APP_URL,\n    CAR_EDIT_APP_URL,\n    POINT_CREATE_APP_URL,\n    POINT_EDIT_APP_URL,\n} from '../../../../constants/urls';\nimport './AdminContent.scss';\n\nfunction AdminContent() {\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    // При размонтировании компонента - удаляем из хранилища данные всплывающих сообщений\n    useEffect(() => () => {\n        dispatch(setPopupMessage(null, null));\n    }, []);\n\n    const toOrderList = () => history.push(`/${ADMIN_APP_URL}/${ORDER_LIST_APP_URL}`);\n    const toCarList = () => history.push(`/${ADMIN_APP_URL}/${CAR_LIST_APP_URL}`);\n    const toPointList = () => history.push(`/${ADMIN_APP_URL}/${POINT_LIST_APP_URL}`);\n\n    // Учитываем, что если не выбран ни один пункт меню, то внутри области контента не должен отображаться ни один компонент\n    return (\n        <main className=\"admin_content\">\n            <PopupMessage/>\n            <Switch>\n                <Route exact path={`/${ADMIN_APP_URL}`} component={null}/>\n\n                <Route path={`/${ADMIN_APP_URL}/${ORDER_LIST_APP_URL}`} component={OrderList}/>\n                <Route path={`/${ADMIN_APP_URL}/${CAR_LIST_APP_URL}`} component={CarList}/>\n                <Route path={`/${ADMIN_APP_URL}/${POINT_LIST_APP_URL}`} component={PointList}/>\n\n                <Route path={`/${ADMIN_APP_URL}/${ORDER_EDIT_APP_URL}/:id`} component={Order}/>\n                <Route path={`/${ADMIN_APP_URL}/${ORDER_EDIT_APP_URL}`}>\n                    <RouterCap\n                        mainCaption=\"Для редактирования заказа сперва выберите нужный заказ из списка\"\n                        buttonCaption=\"Перейти к списку заказов\"\n                        handleButtonClick={toOrderList}\n                    />\n                </Route>\n\n                <Route path={`/${ADMIN_APP_URL}/${CAR_CREATE_APP_URL}`} component={Car}/>\n                <Route path={`/${ADMIN_APP_URL}/${CAR_EDIT_APP_URL}/:id`} component={Car}/>\n                <Route path={`/${ADMIN_APP_URL}/${CAR_EDIT_APP_URL}`}>\n                    <RouterCap\n                        mainCaption=\"Для редактирования автомобиля сперва выберите нужный автомобиль из списка\"\n                        buttonCaption=\"Перейти к списку автомобилей\"\n                        handleButtonClick={toCarList}\n                    />\n                </Route>\n\n                <Route path={`/${ADMIN_APP_URL}/${POINT_CREATE_APP_URL}`} component={Point}/>\n                <Route path={`/${ADMIN_APP_URL}/${POINT_EDIT_APP_URL}/:id`} component={Point}/>\n                <Route path={`/${ADMIN_APP_URL}/${POINT_EDIT_APP_URL}/`}>\n                    <RouterCap\n                        mainCaption=\"Для редактирования пункта выдачи сперва выберите нужный пункт выдачи из списка\"\n                        buttonCaption=\"Перейти к списку пунктов выдачи\"\n                        handleButtonClick={toPointList}\n                    />\n                </Route>\n\n                <Route path=\"*\" component={NoMatch}/>\n            </Switch>\n        </main>\n    )\n}\n\nexport default AdminContent;","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport './AdminFooter.scss';\n\nfunction AdminFooter(){\n    return (\n        <footer className=\"admin_footer\">\n            <Link to=\"/admin\">Главная страница</Link>\n            <a href=\"https://hproger.ru/need_for_drive/\">Сервис NFD</a>\n            <span>Copyright\t&#169; 2021 Simbirsoft</span>\n        </footer>\n    );\n}\n\nexport default AdminFooter;","import React, {useEffect} from 'react';\nimport Menu from '../../admin/menu/Menu/Menu';\nimport AdminHeader from '../../admin/header/AdminHeader/AdminHeader';\nimport AdminContent from '../../admin/content/AdminContent/AdminContent';\nimport AdminFooter from '../../admin/footer/AdminFooter/AdminFooter';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ErrorPane from '../../common/ErrorPane/ErrorPane';\nimport {useHistory} from 'react-router-dom';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {LOGIN_APP_URL} from '../../../constants/urls';\nimport {MENU_ITEMS} from '../../../constants/settings';\nimport {fetchUsername} from '../../../utils/fetch_utils';\nimport {setMenuItems, setUsername, setError, setPreloader} from '../../../store/actionCreators';\nimport {getUsername, getError, getPreloader} from '../../../store/selectors';\nimport './Admin.scss';\n\nfunction Admin() {\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const username = useSelector(getUsername);\n    const error = useSelector(getError);\n    const preloader = useSelector(getPreloader);\n\n    useEffect(() => {\n        setError(null);\n        setPreloader(true);\n        fetchUsername()\n            .then(username => {\n                if (username) {\n                    dispatch(setUsername(username));\n                    dispatch(setMenuItems(MENU_ITEMS));\n                } else {\n                    goLogin();\n                }\n            })\n            .catch(err => setError({description: err, handler: goLogin}))\n            .finally(() => setPreloader(false));\n    }, [dispatch]);\n\n    const goLogin = () => {\n        dispatch(setError(null));\n        history.push(`/${LOGIN_APP_URL}`);\n    };\n\n    return (\n        <>\n            {preloader && <Preloader fullscreen/>}\n            {error && <ErrorPane error={error.description} handleBackButtonClick={error.handler} fullscreen/>}\n            {username &&\n            <>\n                <Menu/>\n                <section className=\"work_section\">\n                    <AdminHeader/>\n                    <AdminContent/>\n                    <AdminFooter/>\n                </section>\n            </>\n            }\n        </>\n    )\n}\n\nexport default Admin;","import React from 'react';\nimport {HashRouter, Switch, Route, Redirect} from 'react-router-dom';\nimport Login from './pages/Login/Login';\nimport Register from './pages/Register/Register';\nimport Admin from './pages/Admin/Admin';\nimport NoMatch from './common/NoMatch/NoMatch';\nimport {LOGIN_APP_URL, ADMIN_APP_URL, REGISTER_APP_URL} from '../constants/urls';\nimport 'dotenv';\n\nfunction App() {\n    return (\n        <HashRouter>\n            <Switch>\n                <Route exact path=\"/\">\n                    <Redirect to={`/${ADMIN_APP_URL}`}/>\n                </Route>\n                <Route path={`/${LOGIN_APP_URL}`} component={Login}/>\n                <Route path={`/${REGISTER_APP_URL}`} component={Register}/>\n                <Route path={`/${ADMIN_APP_URL}`} component={Admin}/>\n                <Route path=\"*\" component={NoMatch}/>\n            </Switch>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import * as act from './actions'\n\nexport function menuItems(state = [], action) {\n    switch (action.type) {\n        case act.SET_MENU_ITEMS:\n            return action.menuItems;\n        default:\n            return state;\n    }\n}\n\nexport function frame(state = null, action) {\n    switch (action.type) {\n        case act.SET_FRAME:\n            return action.frame;\n        default:\n            return state;\n    }\n}\n\nexport function catalog(state = {}, action) {\n    switch (action.type) {\n        case act.SET_CATALOG:\n            return {...state, [action.catalogName]: action.catalogData}\n        default:\n            return state;\n    }\n}\n\nexport function username(state = null, action) {\n    switch (action.type) {\n        case act.SET_USERNAME:\n            return action.username;\n        default:\n            return state;\n    }\n}\n\nexport function error(state = null, action) {\n    switch (action.type) {\n        case act.SET_ERROR:\n            return action.error;\n        default:\n            return state;\n    }\n}\n\nexport function preloader(state = false, action) {\n    switch (action.type) {\n        case act.SET_PRELOADER:\n            return action.preloader;\n        default:\n            return state;\n    }\n}\n\nexport function entity(state = {}, action) {\n    switch (action.type) {\n        case act.SET_ENTITY:\n            return action.entity\n        case act.SET_ENTITY_FIELD:\n            return {...state, [action.field]: action.value}\n        default:\n            return state;\n    }\n}\n\nexport function popupMessage(state = {}, action) {\n    switch (action.type) {\n        case act.SET_POPUP_MESSAGE:\n            return action.message;\n        default:\n            return state;\n    }\n}","import {createStore, combineReducers, applyMiddleware} from 'redux';\nimport {composeWithDevTools} from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport * as reducers from './reducers'\n\nconst combinedReducer = combineReducers(reducers);\nconst store = createStore(combinedReducer, {}, composeWithDevTools(applyMiddleware(thunk)));\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport App from './components/App';\nimport store from './store/store';\nimport './styles/init.scss';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}